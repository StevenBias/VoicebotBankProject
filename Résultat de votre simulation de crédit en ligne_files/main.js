!function(t){"function"==typeof define&&define.amd?bnpp.define("slick",["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=window.Slick||{};e=function(){function e(e,a){var i,r,o,s=this;if(s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},t.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.hidden="hidden",s.paused=!1,s.positionProp=null,s.respondTo=null,s.shouldClick=!0,s.$slider=t(e),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,i=t(e).data("slick")||{},s.options=t.extend({},s.defaults,i,a),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,r=s.options.responsive||null,r&&r.length>-1){s.respondTo=s.options.respondTo||"window";for(o in r)r.hasOwnProperty(o)&&(s.breakpoints.push(r[o].breakpoint),s.breakpointSettings[r[o].breakpoint]=r[o].settings);s.breakpoints.sort(function(t,e){return s.options.mobileFirst===!0?t-e:e-t})}"undefined"!=typeof document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(s.hidden="msHidden",s.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=t.proxy(s.autoPlay,s),s.autoPlayClear=t.proxy(s.autoPlayClear,s),s.changeSlide=t.proxy(s.changeSlide,s),s.clickHandler=t.proxy(s.clickHandler,s),s.selectHandler=t.proxy(s.selectHandler,s),s.setPosition=t.proxy(s.setPosition,s),s.swipeHandler=t.proxy(s.swipeHandler,s),s.dragHandler=t.proxy(s.dragHandler,s),s.keyHandler=t.proxy(s.keyHandler,s),s.autoPlayIterator=t.proxy(s.autoPlayIterator,s),s.instanceUid=n++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.init(),s.checkResponsive(!0)}var n=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,n,a){var i=this;if("boolean"==typeof n)a=n,n=null;else if(0>n||n>=i.slideCount)return!1;i.unload(),"number"==typeof n?0===n&&0===i.$slides.length?t(e).appendTo(i.$slideTrack):a?t(e).insertBefore(i.$slides.eq(n)):t(e).insertAfter(i.$slides.eq(n)):a===!0?t(e).prependTo(i.$slideTrack):t(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var a={},i=this;i.animateHeight(),i.options.rtl===!0&&i.options.vertical===!1&&(e=-e),i.transformsEnabled===!1?i.options.vertical===!1?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,n):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,n):i.cssTransitions===!1?(i.options.rtl===!0&&(i.currentLeft=-i.currentLeft),t({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(t){t=Math.ceil(t),i.options.vertical===!1?(a[i.animType]="translate("+t+"px, 0px)",i.$slideTrack.css(a)):(a[i.animType]="translate(0px,"+t+"px)",i.$slideTrack.css(a))},complete:function(){n&&n.call()}})):(i.applyTransition(),e=Math.ceil(e),a[i.animType]=i.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(a),n&&setTimeout(function(){i.disableTransition(),n.call()},i.options.speed))},e.prototype.asNavFor=function(e){var n=this,a=null!==n.options.asNavFor?t(n.options.asNavFor).slick("getSlick"):null;null!==a&&a.slideHandler(e,!0)},e.prototype.applyTransition=function(t){var e=this,n={};n[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(0===t.currentSlide-1&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=t(e.options.prevArrow),e.$nextArrow=t(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,n,a=this;if(a.options.dots===!0&&a.slideCount>a.options.slidesToShow){for(n='<ul class="'+a.options.dotsClass+'">',e=0;e<=a.getDotCount();e+=1)n+="<li>"+a.options.customPaging.call(this,a,e)+"</li>";n+="</ul>",a.$dots=t(n).appendTo(a.options.appendDots),a.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.checkResponsive=function(e){var n,a,i,r=this,o=r.$slider.width(),s=window.innerWidth||t(window).width();if("window"===r.respondTo?i=s:"slider"===r.respondTo?i=o:"min"===r.respondTo&&(i=Math.min(s,o)),r.originalSettings.responsive&&r.originalSettings.responsive.length>-1&&null!==r.originalSettings.responsive){a=null;for(n in r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(r.originalSettings.mobileFirst===!1?i<r.breakpoints[n]&&(a=r.breakpoints[n]):i>r.breakpoints[n]&&(a=r.breakpoints[n]));null!==a?null!==r.activeBreakpoint?a!==r.activeBreakpoint&&(r.activeBreakpoint=a,"unslick"===r.breakpointSettings[a]?r.unslick():(r.options=t.extend({},r.originalSettings,r.breakpointSettings[a]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())):(r.activeBreakpoint=a,"unslick"===r.breakpointSettings[a]?r.unslick():(r.options=t.extend({},r.originalSettings,r.breakpointSettings[a]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())}},e.prototype.changeSlide=function(e,n){var a,i,r,o=this,s=t(e.target);switch(s.is("a")&&e.preventDefault(),r=0!==o.slideCount%o.options.slidesToScroll,a=r?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":i=0===a?o.options.slidesToScroll:o.options.slidesToShow-a,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-i,!1,n);break;case"next":i=0===a?o.options.slidesToScroll:a,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+i,!1,n);break;case"index":var l=0===e.data.index?0:e.data.index||t(e.target).parent().index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(l),!1,n);break;default:return}},e.prototype.checkNavigable=function(t){var e,n,a=this;if(e=a.getNavigableIndexes(),n=0,t>e[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),t(window).off(".slick-"+e.instanceUid),t(document).off(".slick-"+e.instanceUid),e.$slider.html(e.$slides)},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;n.cssTransitions===!1?(n.$slides.eq(t).css({zIndex:1e3}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,a=0;if(t.options.infinite===!0)a=Math.ceil(t.slideCount/t.options.slidesToScroll);else if(t.options.centerMode===!0)a=t.slideCount;else for(;e<t.slideCount;)++a,e=n+t.options.slidesToShow,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return a-1},e.prototype.getLeft=function(t){var e,n,a,i=this,r=0;return i.slideOffset=0,n=i.$slides.first().outerHeight(),i.options.infinite===!0?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=-1*i.slideWidth*i.options.slidesToShow,r=-1*n*i.options.slidesToShow),0!==i.slideCount%i.options.slidesToScroll&&t+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(t>i.slideCount?(i.slideOffset=-1*(i.options.slidesToShow-(t-i.slideCount))*i.slideWidth,r=-1*(i.options.slidesToShow-(t-i.slideCount))*n):(i.slideOffset=-1*i.slideCount%i.options.slidesToScroll*i.slideWidth,r=-1*i.slideCount%i.options.slidesToScroll*n))):t+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(t+i.options.slidesToShow-i.slideCount)*i.slideWidth,r=(t+i.options.slidesToShow-i.slideCount)*n),i.slideCount<=i.options.slidesToShow&&(i.slideOffset=0,r=0),i.options.centerMode===!0&&i.options.infinite===!0?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:i.options.centerMode===!0&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),e=i.options.vertical===!1?-1*t*i.slideWidth+i.slideOffset:-1*t*n+r,i.options.variableWidth===!0&&(a=i.slideCount<=i.options.slidesToShow||i.options.infinite===!1?i.$slideTrack.children(".slick-slide").eq(t):i.$slideTrack.children(".slick-slide").eq(t+i.options.slidesToShow),e=a[0]?-1*a[0].offsetLeft:0,i.options.centerMode===!0&&(a=i.options.infinite===!1?i.$slideTrack.children(".slick-slide").eq(t):i.$slideTrack.children(".slick-slide").eq(t+i.options.slidesToShow+1),e=a[0]?-1*a[0].offsetLeft:0,e+=(i.$list.width()-a.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,a=0,i=[];for(e.options.infinite===!1?(t=e.slideCount-e.options.slidesToShow+1,e.options.centerMode===!0&&(t=e.slideCount)):(n=-1*e.slideCount,a=-1*e.slideCount,t=2*e.slideCount);t>n;)i.push(n),n=a+e.options.slidesToScroll,a+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return i},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,a,i=this;return a=i.options.centerMode===!0?i.slideWidth*Math.floor(i.options.slidesToShow/2):0,i.options.swipeToSlide===!0?(i.$slideTrack.find(".slick-slide").each(function(e,r){return r.offsetLeft-a+t(r).outerWidth()/2>-1*i.swipeLeft?(n=r,!1):void 0}),e=Math.abs(t(n).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var n=this;n.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(){var e=this;t(e.$slider).hasClass("slick-initialized")||(t(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),e.$slider.trigger("init",[e])},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}).on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),e.options.autoplay===!0&&(t(document).on(e.visibilityChange,function(){e.visibility()}),e.options.pauseOnHover===!0&&(e.$list.on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}),e.$list.on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()}))),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),t(window).on("resize.slick.slick-"+e.instanceUid,function(){t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.setPosition()},50))}),t("*[draggable!=true]",e.$slideTrack).on("dragstart",function(t){t.preventDefault()}),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy");e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",n).removeAttr("data-lazy").removeClass("slick-loading")})}var n,a,i,r,o=this;o.options.centerMode===!0?o.options.infinite===!0?(i=o.currentSlide+(o.options.slidesToShow/2+1),r=i+o.options.slidesToShow+2):(i=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),r=2+(o.options.slidesToShow/2+1)+o.currentSlide):(i=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,r=i+o.options.slidesToShow,o.options.fade===!0&&(i>0&&i--,r<=o.slideCount&&r++)),n=o.$slider.find(".slick-slide").slice(i,r),e(n),o.slideCount<=o.options.slidesToShow?(a=o.$slider.find(".slick-slide"),e(a)):o.currentSlide>=o.slideCount-o.options.slidesToShow?(a=o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow),e(a)):0===o.currentSlide&&(a=o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow),e(a))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.paused=!1,t.autoPlay()},e.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.progressiveLazyLoad=function(){var e,n,a=this;e=t("img[data-lazy]",a.$slider).length,e>0&&(n=t("img[data-lazy]",a.$slider).first(),n.attr("src",n.attr("data-lazy")).removeClass("slick-loading").load(function(){n.removeAttr("data-lazy"),a.progressiveLazyLoad()}).error(function(){n.removeAttr("data-lazy"),a.progressiveLazyLoad()}))},e.prototype.refresh=function(){var e=this,n=e.currentSlide;e.destroy(),t.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:n}},!0)},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e])},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var a=this;return"boolean"==typeof t?(e=t,t=e===!0?0:a.slideCount-1):t=e===!0?--t:t,a.slideCount<1||0>t||t>a.slideCount-1?!1:(a.unload(),n===!0?a.$slideTrack.children().remove():a.$slideTrack.children(this.options.slide).eq(t).remove(),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slidesCache=a.$slides,a.reinit(),void 0)},e.prototype.setCSS=function(t){var e,n,a=this,i={};a.options.rtl===!0&&(t=-t),e="left"==a.positionProp?Math.ceil(t)+"px":"0px",n="top"==a.positionProp?Math.ceil(t)+"px":"0px",i[a.positionProp]=t,a.transformsEnabled===!1?a.$slideTrack.css(i):(i={},a.cssTransitions===!1?(i[a.animType]="translate("+e+", "+n+")",a.$slideTrack.css(i)):(i[a.animType]="translate3d("+e+", "+n+", 0px)",a.$slideTrack.css(i)))},e.prototype.setDimensions=function(){var t=this;if(t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1)t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length));else if(t.options.variableWidth===!0){var e=0;t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.children(".slick-slide").each(function(){e+=t.listWidth}),t.$slideTrack.width(Math.ceil(e)+1)}else t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length));var n=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-n)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(a,i){e=-1*n.slideWidth*a,n.options.rtl===!0?t(i).css({position:"relative",right:e,top:0,zIndex:800,opacity:0}):t(i).css({position:"relative",left:e,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(t,e,n){var a=this;a.options[t]=e,n===!0&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,n,a,i,r=this;r.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),n=r.$slider.find(".slick-slide"),r.options.centerMode===!0?(e=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active"):(a=r.options.slidesToShow+t,n.slice(a-e+1,a+e+2).addClass("slick-active")),0===t?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active"):n.length<=r.options.slidesToShow?n.addClass("slick-active"):(i=r.slideCount%r.options.slidesToShow,a=r.options.infinite===!0?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?n.slice(a-(r.options.slidesToShow-i),a+i).addClass("slick-active"):n.slice(a,a+r.options.slidesToShow).addClass("slick-active")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,a,i=this;if(i.options.fade===!0&&(i.options.centerMode=!1),i.options.infinite===!0&&i.options.fade===!1&&(n=null,i.slideCount>i.options.slidesToShow)){for(a=i.options.centerMode===!0?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-a;e-=1)n=e-1,t(i.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;a>e;e+=1)n=e,t(i.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.selectHandler=function(e){var n=this,a=parseInt(t(e.target).parents(".slick-slide").attr("data-slick-index"));return a||(a=0),n.slideCount<=n.options.slidesToShow?(n.$slider.find(".slick-slide").removeClass("slick-active"),n.$slides.eq(a).addClass("slick-active"),n.options.centerMode===!0&&(n.$slider.find(".slick-slide").removeClass("slick-center"),n.$slides.eq(a).addClass("slick-center")),n.asNavFor(a),void 0):(n.slideHandler(a),void 0)},e.prototype.slideHandler=function(t,e,n){var a,i,r,o,s=null,l=this;return e=e||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow?void 0:(e===!1&&l.asNavFor(t),a=t,s=l.getLeft(a),o=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?o:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>t||t>l.getDotCount()*l.options.slidesToScroll)?(l.options.fade===!1&&(a=l.currentSlide,n!==!0?l.animateSlide(o,function(){l.postSlide(a)}):l.postSlide(a)),void 0):l.options.infinite===!1&&l.options.centerMode===!0&&(0>t||t>l.slideCount-l.options.slidesToScroll)?(l.options.fade===!1&&(a=l.currentSlide,n!==!0?l.animateSlide(o,function(){l.postSlide(a)}):l.postSlide(a)),void 0):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),i=0>a?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+a:a>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:a-l.slideCount:a,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,i]),r=l.currentSlide,l.currentSlide=i,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(n!==!0?l.fadeSlide(i,function(){l.postSlide(i)}):l.postSlide(i),l.animateHeight(),void 0):(n!==!0?l.animateSlide(s,function(){l.postSlide(i)}):l.postSlide(i),void 0)))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,a,i=this;return t=i.touchObject.startX-i.touchObject.curX,e=i.touchObject.startY-i.touchObject.curY,n=Math.atan2(e,t),a=Math.round(180*n/Math.PI),0>a&&(a=360-Math.abs(a)),45>=a&&a>=0?i.options.rtl===!1?"left":"right":360>=a&&a>=315?i.options.rtl===!1?"left":"right":a>=135&&225>=a?i.options.rtl===!1?"right":"left":"vertical"},e.prototype.swipeEnd=function(){var t,e=this;if(e.dragging=!1,e.shouldClick=e.touchObject.swipeLength>10?!1:!0,void 0===e.touchObject.curX)return!1;if(e.touchObject.edgeHit===!0&&e.$slider.trigger("edge",[e,e.swipeDirection()]),e.touchObject.swipeLength>=e.touchObject.minSwipe)switch(e.swipeDirection()){case"left":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide+e.getSlideCount()):e.currentSlide+e.getSlideCount(),e.slideHandler(t),e.currentDirection=0,e.touchObject={},e.$slider.trigger("swipe",[e,"left"]);break;case"right":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide-e.getSlideCount()):e.currentSlide-e.getSlideCount(),e.slideHandler(t),e.currentDirection=1,e.touchObject={},e.$slider.trigger("swipe",[e,"right"])}else e.touchObject.startX!==e.touchObject.curX&&(e.slideHandler(e.currentSlide),e.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,a,i,r,o=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!o.dragging||r&&1!==r.length?!1:(e=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,o.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),n=o.swipeDirection(),"vertical"!==n?(void 0!==t.originalEvent&&o.touchObject.swipeLength>4&&t.preventDefault(),i=(o.options.rtl===!1?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),a=o.touchObject.swipeLength,o.touchObject.edgeHit=!1,o.options.infinite===!1&&(0===o.currentSlide&&"right"===n||o.currentSlide>=o.getDotCount()&&"left"===n)&&(a=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),o.swipeLeft=o.options.vertical===!1?e+a*i:e+a*(o.$list.height()/o.listWidth)*i,o.options.fade===!0||o.options.touchMove===!1?!1:o.animating===!0?(o.swipeLeft=null,!1):(o.setCSS(o.swipeLeft),void 0)):void 0)},e.prototype.swipeStart=function(t){var e,n=this;return 1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,n.dragging=!0,void 0)},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},e.prototype.unslick=function(){var t=this;t.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))
},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):(t.paused=!1,t.autoPlay())},t.fn.slick=function(){var t,n=this,a=arguments[0],i=Array.prototype.slice.call(arguments,1),r=n.length,o=0;for(o;r>o;o++)if("object"==typeof a||"undefined"==typeof a?n[o].slick=new e(n[o],a):t=n[o].slick[a].apply(n[o].slick,i),"undefined"!=typeof t)return t;return n}}),bnpp.define("simulationResultBlock/../../app/simulationCommons/simulationRivetConfig",["rivets","backbone"],function(t,e){t.binders.point=function(t,e){e&&$(t).data("point",e)},t.formatters.equals=function(t,e){return t&&e?String(t)==e:!1},t.formatters.equalsFlag=function(t,e){return t&&e?String(t)==e:"false"},t.formatters.among=function(t){var e=$.makeArray(arguments),n=_.contains(e.slice(1),t);return n?!0:void 0},t.binders.addclass=function(t,e){e&&$(t).addClass(e)},t.formatters.postfix=function(t,e){return isNaN(t)?t:t+" "+e},t.formatters.frenchFormatdate=function(t,e){var n=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],a=new Date(t);if(a instanceof Date)switch(e){case"myyyy":t=n[a.getMonth()]+" "+a.getFullYear()}return t},t.formatters.currencyFormatter=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,","),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t+=",00"),t;var e=0;return e}return"0,00"},t.formatters.currencyFormatterSub=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=parseFloat(t).toFixed(2),t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,",")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t+=",00"),t;var e=0;return e}return"0,00"},t.formatters.currencySpaceFormatter=function(t){return t?(t=t.toString().replace(/\./g,","),0===t.toString().substring(t.indexOf(",")+1).length&&(t=t.substring(0,t.indexOf(","))),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0"),t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")):t},t.formatters.chartCurrencyFormatter=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,","),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),t;var e=0;return e}return"0"},t.formatters.euroSymbol=function(t){return-1===t.toString().indexOf(" €")?t+" "+"€":t},t.formatters.isNotValid=function(t){return t?(t=t.toString().replace(/ /g,"").replace(/€|,|\./g,""),parseInt(t,10)>0?!0:!1):void 0},t.formatters.savingCurrencyFormatter=function(t){var t=""+t;if(t=t.replace(/ /g,"").replace(/€|,|\./g,""),"undefined"!==t&&t.length>3)t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");else if(""==t||"undefined"===t||"NaN"===t)return 0;return t},t.formatters.spaceCommaRemover=function(t){return t=t.replace(/ /g,"").replace(/€|,|\./g,"")},t.formatters.integerFormatter=function(t){return t?t=Math.round(t):0},t.formatters.notEqual=function(t){return void 0!==t?!t:void 0},t.formatters.decimalFormatter=function(t){return t?t=t.toFixed(2):void 0},t.formatters.formatdate=function(t){var e,n;e=t.substring(0,10),e=e.toString(),n=e.split("-"),n[1]=n[1].replace("0","");var a=["Janvier","Février","Mars","Avril","Peut","Juin","Juillet","Août","Septembre","Octobre","Novembre","December","Janvier"];return a[n[1]]+" "+n[0]};var n=t.adapters["."],a=n.subscribe,i=n.unsubscribe;return n.subscribe=function(t,n,i){void 0!==t&&null!==t&&(t&&n&&t[n]instanceof e.Collection?t[n].on("add remove reset",function(){i(t[n])}):t instanceof e.Model?t.on("change:"+n,function(t,e){i(e)}):a.apply(this,arguments))},n.unsubscribe=function(t,n,a){void 0!==t&&null!==t&&(t&&n&&t[n]instanceof e.Collection?t[n].off("add remove reset",function(){a(t[n])}):t instanceof e.Model?t.off("change:"+n,function(t,e){a(e)}):i.apply(this,arguments))},n.read=function(t,n){if(null!==t&&void 0!==t){if(t instanceof e.Model)return t.get(n);var a=t[n];return a instanceof e.Collection?a.models:a}},t.binders.datatohtml=function(t,e){e&&$(t).html(e)},n.publish=function(t,n,a){t instanceof e.Collection?t.models=a:t instanceof e.Model?t.set(n,a):t[n]=a},t}),bnpp.define("simulationResultBlock/../../app/simulationCommons/../../app/simulationCommons/simulationRivetConfig",["rivets","backbone"],function(t,e){t.binders.point=function(t,e){e&&$(t).data("point",e)},t.formatters.equals=function(t,e){return t&&e?String(t)==e:!1},t.formatters.equalsFlag=function(t,e){return t&&e?String(t)==e:"false"},t.formatters.among=function(t){var e=$.makeArray(arguments),n=_.contains(e.slice(1),t);return n?!0:void 0},t.binders.addclass=function(t,e){e&&$(t).addClass(e)},t.formatters.postfix=function(t,e){return isNaN(t)?t:t+" "+e},t.formatters.frenchFormatdate=function(t,e){var n=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],a=new Date(t);if(a instanceof Date)switch(e){case"myyyy":t=n[a.getMonth()]+" "+a.getFullYear()}return t},t.formatters.currencyFormatter=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,","),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t+=",00"),t;var e=0;return e}return"0,00"},t.formatters.currencyFormatterSub=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=parseFloat(t).toFixed(2),t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,",")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t+=",00"),t;var e=0;return e}return"0,00"},t.formatters.currencySpaceFormatter=function(t){return t?(t=t.toString().replace(/\./g,","),0===t.toString().substring(t.indexOf(",")+1).length&&(t=t.substring(0,t.indexOf(","))),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0"),t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")):t},t.formatters.chartCurrencyFormatter=function(t){if(t){if(0!==t)return-1!==t.toString().indexOf(".")?(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t=t.replace(/\./g,","),1===t.toString().substring(t.indexOf(",")+1).length&&(t+="0")):-1===t.toString().indexOf(",")&&(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),t;var e=0;return e}return"0"},t.formatters.euroSymbol=function(t){return-1===t.toString().indexOf(" €")?t+" "+"€":t},t.formatters.isNotValid=function(t){return t?(t=t.toString().replace(/ /g,"").replace(/€|,|\./g,""),parseInt(t,10)>0?!0:!1):void 0},t.formatters.savingCurrencyFormatter=function(t){var t=""+t;if(t=t.replace(/ /g,"").replace(/€|,|\./g,""),"undefined"!==t&&t.length>3)t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");else if(""==t||"undefined"===t||"NaN"===t)return 0;return t},t.formatters.spaceCommaRemover=function(t){return t=t.replace(/ /g,"").replace(/€|,|\./g,"")},t.formatters.integerFormatter=function(t){return t?t=Math.round(t):0},t.formatters.notEqual=function(t){return void 0!==t?!t:void 0},t.formatters.decimalFormatter=function(t){return t?t=t.toFixed(2):void 0},t.formatters.formatdate=function(t){var e,n;e=t.substring(0,10),e=e.toString(),n=e.split("-"),n[1]=n[1].replace("0","");var a=["Janvier","Février","Mars","Avril","Peut","Juin","Juillet","Août","Septembre","Octobre","Novembre","December","Janvier"];return a[n[1]]+" "+n[0]};var n=t.adapters["."],a=n.subscribe,i=n.unsubscribe;return n.subscribe=function(t,n,i){void 0!==t&&null!==t&&(t&&n&&t[n]instanceof e.Collection?t[n].on("add remove reset",function(){i(t[n])}):t instanceof e.Model?t.on("change:"+n,function(t,e){i(e)}):a.apply(this,arguments))},n.unsubscribe=function(t,n,a){void 0!==t&&null!==t&&(t&&n&&t[n]instanceof e.Collection?t[n].off("add remove reset",function(){a(t[n])}):t instanceof e.Model?t.off("change:"+n,function(t,e){a(e)}):i.apply(this,arguments))},n.read=function(t,n){if(null!==t&&void 0!==t){if(t instanceof e.Model)return t.get(n);var a=t[n];return a instanceof e.Collection?a.models:a}},t.binders.datatohtml=function(t,e){e&&$(t).html(e)},n.publish=function(t,n,a){t instanceof e.Collection?t.models=a:t instanceof e.Model?t.set(n,a):t[n]=a},t}),bnpp.define("text!simulationResultBlock/../../app/simulationCommons/../../app/simulationCommons/template/errorTemplate.html",[],function(){return'\r\n\r\n\r\n\r\n		<div class="errorContainer">\r\n			<div class="errorText" rv-text = "values.serverErrorMessage">\r\n			</div>\r\n			<br>\r\n			<br>\r\n			<br>\r\n			<br>\r\n			<br>\r\n			<div class="errorInfo">\r\n				<p>Error ID: <span rv-text="values.serverErrorCode|blank"></span></p>\r\n				<p>Trace ID: <span rv-text="values.serverErrorTraceId|blank"></span></p>\r\n			</div>\r\n		</div>\r\n'}),bnpp.define("simulationResultBlock/../../app/simulationCommons/simulationValidate",["sf","qtip","jquery","underscore","../../app/simulationCommons/simulationRivetConfig","text!../../app/simulationCommons/template/errorTemplate.html"],function(t,e,n,a,i,r){var o={};return o.hostUrl="",o.restrictedParameters="",o.fetchPrestoDurationList=function(t,e,n,i,r,s){function l(t,e){return t.freeEnabled>e.freeEnabled?-1:t.freeEnabled<e.freeEnabled?1:0}o.eligibleList=[];var m,u,c,d,p;m=0;var f,g,v=[];for(u=0;u<t.length;u++)d=100*t[u].mio,d/=100,p=100*t[u].mao,p/=100,c=1e4*t[u].tnc,c/=1e4,(String(t[u].pur)===e||""===String(t[u].pur))&&parseFloat(d)<=i&&parseFloat(p)>=i&&0!==t[u].mit&&0!==t[u].mat&&t[u].mit===t[u].mat&&(o.eligibleList[m]={materialCode:t[u].pur,tnc:c,freeEnabled:t[u].fcf,prt:t[u].prt,minAmount:d,maxAmount:p,duration:Number(t[u].mit),months:t[u].mit+" mois",insuranceType:t[u].ast+t[u].asv,insuranceCode:t[u].asc,alphaCode:t[u].alp},m++);if("presto"===r&&(o.eligibleList=a.filter(o.eligibleList,function(t){return"0001"===t.alphaCode})),o.eligibleList=a.sortBy(o.eligibleList,function(t){return t.tnc}),o.eligibleList=o.eligibleList.sort(l),f=o.uniqListWithLowTNC(a.filter(o.eligibleList,function(t){return"O"===t.freeEnabled?t:void 0})),g=o.uniqListWithLowTNC(a.filter(o.eligibleList,function(t){return"P"===t.prt&&"O"!==t.freeEnabled?t:void 0})),v=o.uniqListWithLowTNC(a.filter(o.eligibleList,function(t){return"P"!==t.prt&&"O"!==t.freeEnabled?t:void 0})).reverse(),o.eligibleList=f,f.length<s){for(var h=0;h<g.length;h++)o.eligibleList.push(g[h]);if(o.eligibleList.length<s)for(var h=0;h<v.length&&o.eligibleList.length<s;h++)o.eligibleList.push(v[h])}return o.eligibleList},o.uniqListWithLowTNC=function(t){var e;return e=a.sortBy(t,function(t){return t.tnc}),e=a.uniq(e,function(t){return t.duration}),e=a.sortBy(e,function(t){return t.duration})},o.getDFRAName=function(t,e,n,a){var i;return i=void 0===e||0===e?n+t.toString():n+e.toString()+a},o.fetchDurationList=function(t,e,n,i,r){function s(t,e){return t.freeEnabled>e.freeEnabled?-1:t.freeEnabled<e.freeEnabled?1:0}o.eligibleList=[];var l,m,u,c,d;for(l=0,m=0;m<t.length;m++)c=100*t[m].mio,c/=100,d=100*t[m].mao,d/=100,u=1e4*t[m].tnc,u/=1e4,(String(t[m].pur)===e||""===String(t[m].pur))&&parseFloat(c)<=i&&parseFloat(d)>=i&&0!==t[m].mit&&0!==t[m].mat&&t[m].mit===t[m].mat&&(o.eligibleList[l]={materialCode:t[m].pur,tnc:u,freeEnabled:t[m].fcf,minAmount:c,maxAmount:d,duration:Number(t[m].mit),months:t[m].mit+" mois",insuranceType:t[m].ast+t[m].asv,insuranceCode:t[m].asc,alphaCode:t[m].alp},l++);return"presto"===r?o.eligibleList=a.filter(o.eligibleList,function(t){return"0001"===t.alphaCode}):"applyandBuy"===r&&(o.eligibleList=a.filter(o.eligibleList,function(t){return"0032"===t.alphaCode||"0033"===t.alphaCode})),o.eligibleList=a.sortBy(o.eligibleList,function(t){return t.tnc}),o.eligibleList=o.eligibleList.sort(s),o.eligibleList=a.uniq(o.eligibleList,function(t){return t.duration}),o.eligibleList},o.simulate=function(t,e,n,a){var i,r;for(i=0,o.simulationResult=[],i=0;i<t.length;i++)t[i].duration===n&&(o.simulationResult=o.getSimulationResult(t,i,e,n,a),i=t.length);return 0===o.simulationResult.length&&(r=t.length-1,o.simulationResult=o.getSimulationResult(t,r,e,n,a)),o.simulationResult},o.getSimulationResult=function(t,e,n,a,i,r){o.simulationResult=[];var s,l,m,u,c,d,p,f,g,v,h,C,E,R,b,x,T;R="",x=0,m=parseFloat(t[e].tnc),s=(m/100).toFixed(4),p=(100*(Math.pow(1+s/12,12)-1)).toFixed(2),f=p,v=(parseFloat(n)*(s/12)/(1-Math.pow(1+s/12,-parseInt(t[e].duration)))).toFixed(2)*parseInt(t[e].duration)-parseFloat(n),v=v===v?v.toFixed(2):0,r?(u=r,isNaN(v)||(g=(parseFloat(n)+parseFloat(v)).toFixed(2))):"O"!==t[e].freeEnabled&&parseFloat(s)?(u=(parseFloat(n)*(s/12)/(1-Math.pow(1+s/12,-parseInt(t[e].duration)))).toFixed(2),g=(u*parseInt(t[e].duration)).toFixed(2)):(u=(parseFloat(n)/t[e].duration).toFixed(2),g=parseFloat(n).toFixed(2)),h=t[e].insuranceType,h=1e4*parseFloat(h.substring(1)),h/=1e4,"epartner"===i?(0===t[e].insuranceType.indexOf("T")&&(E=((parseFloat(h/100)*u).toFixed(2)*t[e].duration).toFixed(2),T=(parseFloat(h/100)*u).toFixed(2)),0===t[e].insuranceType.indexOf("F")&&(E=parseFloat(h).toFixed(2),T=parseFloat(h/parseInt(t[e].duration)).toFixed(2))):"presto"===i?(0===t[e].insuranceType.indexOf("T")&&(T=parseFloat(h/100)*g/parseInt(t[e].duration),T=Math.floor(100*T)/100,E=(T*t[e].duration).toFixed(2)),0===t[e].insuranceType.indexOf("F")&&(T=h,E=(T*t[e].duration).toFixed(2))):(0===t[e].insuranceType.indexOf("T")&&(E=(parseFloat(h)*n).toFixed(2),T=(parseFloat(E)/parseInt(t[e].duration)).toFixed(2)),0===t[e].insuranceType.indexOf("F")&&(E=(parseFloat(h)*t[e].duration).toFixed(2),T=parseFloat(h).toFixed(2))),C=(parseFloat(E)/parseInt(t[e].duration)).toFixed(2),d=parseFloat(u)+parseFloat(C);do if(x++,m++,s=(m/100).toFixed(13),c=(parseFloat(n)*(s/12)/(1-Math.pow(1+s/12,-parseInt(t[e].duration)))).toFixed(2),1e4===x)break;while(d>c);l=parseFloat(1/1.01).toFixed(9);do if(x++,parseFloat(c)>parseFloat(d)?(m=parseFloat(m)-parseFloat(l),s=(m/100).toFixed(13)):(m=parseFloat(m)+parseFloat(l),s=(m/100).toFixed(13)),c=(parseFloat(n)*(s/12)/(1-Math.pow(1+s/12,-parseInt(t[e].duration)))).toFixed(2),l=(parseFloat(l)/1.01).toFixed(9),b=Math.abs((parseFloat(c)-parseFloat(d)).toFixed(3)),1e4===x)break;while(parseFloat(b).toFixed(3)>=parseFloat(.005));return"O"===t[e].freeEnabled?(p=(100*(Math.pow(1+s/12,12)-1)).toFixed(2),R=p):(p=(100*(Math.pow(1+s/12,12)-1)).toFixed(2),R=(p-f).toFixed(2)),o.simulationResult[0]={vendorCode:t[e].vendorCode,materialCode:t[e].materialCode,goodAmount:n,tnc:t[e].tnc,duration:t[e].duration,minAmount:t[e].minAmount,maxAmount:t[e].maxAmount,emi:u,taeg:f,freeEnabled:t[e].freeEnabled,interestAmount:v,insuranceCode:t[e].insuranceCode,insuranceLabel:t[e].insuranceLabel,insuranceAmount:C,totalInsuranceAmount:E,taeaRate:R,totalAmount:g,monthlyInsuranceAmount:T,emiWithInsurance:d,emiDifference:b},o.simulationResult},o.getList=function(t,e,n){return o.listB=[],o.listC=[],o.list=[],a.each(t,function(t,a){n.vendorCode===t.V&&("C"===t.category?o.listC[a]={maxDuration:t.maxDuration,amount:(Number(t.amount)/100).toFixed(2),duration:t.duration,emi:(Number(t.emi)/100).toFixed(2),interests:(Number(t.interest)/1e4).toFixed(2),extraInterest:(e.creditAmount+Number(t.interest)/1e4).toFixed(2),lastEmi:(Number(t.lastEmi)/100).toFixed(2),emiWithInsurance:(Number(t.emiWithInsurance)/100).toFixed(2),totalInsurance:(Number(t.totalInsurance)/100).toFixed(2),lastEmiWithInsurance:(Number(t.lastEmiWithInsurance)/100).toFixed(2),taea:(Number(t.taea)/1e4).toFixed(2)}:o.listB[a]={maxDuration:t.maxDuration,minAmount:(Number(t.minAmount)/100).toFixed(2),maxAmount:(Number(t.maxAmount)/100).toFixed(2),tnc:(Number(t.tnc)/1e4).toFixed(2),teg:(Number(t.teg)/1e4).toFixed(2)})}),o.listC=o.listC.filter(Boolean),o.listB=o.listB.filter(Boolean),o.list.push(o.listB),o.list.push(o.listC),o.list},o.fetchGenericDurationList=function(t,e,n,a,i,r){o.eligibleList=[];var s,l,m,u,c,d,p,f,g,v=!0,h=!0;for(m=0,u=0;u<t.length;u++)p=t[u].mio,f=t[u].mao,s=t[u].mit,l=t[u].mat,c=t[u].tnc,g=Number(t[u].apm),d=t[u].prt,0!==i&&(v=parseFloat(p)<=i&&parseFloat(f)>=i),0!==r&&(h=parseFloat(s)<=r&&parseFloat(l)>=r),(String(t[u].pur)===e||""===String(t[u].pur))&&v&&h&&(o.eligibleList[m]={sellerCode:a,materialCode:t[u].pur,tnc:c,tarifType:d,productCode:t[u].alp,minAmount:p,maxAmount:f,minDuration:Number(t[u].mit),maxDuration:Number(t[u].mat),insuranceType:t[u].ast+t[u].asv,reroutingAmount:g},m++);return o.eligibleList},o.fetchEngieList=function(t,e,n,i,r,s){o.eligibleList=[];var l,m,u,c,d,p,f,g,v;u=0;var h=!0,C=!0;if(g=t[0].ryt[n],t[0].ryt[n]&&t[0].ryt[n].length>0)for(c=0;c<t[0].ryt[n].length;c++){p=g[c].mio,f=g[c].mao,l=g[c].mit,m=g[c].mat,d=g[c].tnc,v=g[c].fcf;var E;0!==i&&(h=parseFloat(p)<=i&&parseFloat(f)>=i),0!==r&&(C=parseFloat(l)<=r&&parseFloat(m)>=r),h&&C&&(E=a.find(s.insuranceLabel,function(t){return t.code===g[c].asc}),o.eligibleList[u]={sellerCode:e,tnc:d,minAmount:p,maxAmount:f,minDuration:Number(g[c].mit),maxDuration:Number(g[c].mat),insuranceType:g[c].ast+g[c].asv,freeFlag:v,insuranceCode:g[c].asc,insuranceLabel:E.label},u++)}return o.eligibleList},o.getMinMaxValue=function(t){var e=[],a=[],i=[],r=[],s=[],l=[],m=[],u=[],c=[],d=[],p=[],f=[],g=[],v=[],h=[],C=[];if(o.minMaxValues=[],t.length>1){for(var E=0;E<t.length;E++)e.push(t[E].minDuration),a.push(t[E].maxDuration),i.push(t[E].minAmount),r.push(t[E].maxAmount),i.push(t[E].minAmount),r.push(t[E].maxAmount),s.push(t[E].minConsolidate),l.push(t[E].maxConsolidate),h.push(t[E].minNew),C.push(t[E].maxNew),m.push(t[E].tnc),c.push(t[E].minReal),d.push(t[E].maxReal),p.push(t[E].minConsumer),f.push(t[E].maxConsumer),g.push(t[E].minFinance),v.push(t[E].maxFinance);var R=(Math.min.apply(Math,m)/100).toFixed(4),b=(Math.max.apply(Math,m)/100).toFixed(4),x=(100*(Math.pow(1+R/12,12)-1)).toFixed(2),T=(100*(Math.pow(1+b/12,12)-1)).toFixed(2);o.minMaxValues[0]={minDuration:Math.min.apply(Math,e),maxDuration:Math.max.apply(Math,a),minConsolidate:Math.min.apply(Math,s),maxConsolidate:Math.max.apply(Math,l),minNew:Math.min.apply(Math,h),maxNew:Math.max.apply(Math,C),minAmount:Math.min.apply(Math,i),maxAmount:Math.max.apply(Math,r),tnc:Math.min.apply(Math,m),minTnc:Math.min.apply(Math,m),maxTnc:Math.max.apply(Math,m),minTaeg:x,maxTaeg:T,insuranceType:"",minReal:Math.min.apply(Math,c),maxReal:Math.max.apply(Math,d),minConsumer:Math.min.apply(Math,p),maxConsumer:Math.max.apply(Math,f),minFinance:Math.min.apply(Math,g),maxFinance:Math.max.apply(Math,v)};var u=n.grep(t,function(t){return Number(t.tnc)===Number(o.minMaxValues[0].tnc)});u[0]&&(o.minMaxValues[0].insuranceType=u[0].insuranceType,o.minMaxValues[0].reroutingAmount=u[0].reroutingAmount,o.minMaxValues[0].tarifType=u[0].tarifType)}else if(1===t.length){var A=t[0].tnc,L=(A/100).toFixed(4),x=(100*(Math.pow(1+L/12,12)-1)).toFixed(2),T=(100*(Math.pow(1+L/12,12)-1)).toFixed(2);o.minMaxValues[0]={minDuration:t[0].minDuration,maxDuration:t[0].maxDuration,minAmount:t[0].minAmount,maxAmount:t[0].maxAmount,minConsolidate:t[0].minConsolidate,maxConsolidate:t[0].maxConsolidate,minNew:t[0].minNew,maxNew:t[0].maxNew,tnc:t[0].tnc,minTnc:t[0].tnc,maxTnc:t[0].tnc,minTaeg:x,maxTaeg:T,insuranceType:t[0].insuranceType,reroutingAmount:t[0].reroutingAmount,minReal:t[0].minReal,maxReal:t[0].maxReal,minConsumer:t[0].minConsumer,maxConsumer:t[0].maxConsumer,minFinance:t[0].minFinance,maxFinance:t[0].maxFinance,tarifType:t[0].tarifType}}return o.minMaxValues},o.getMinMaxValueForLegal=function(t){var e=[],n=[],a=[],i=[],r=[];if(o.minMaxValues=[],t.length>1)for(var s=0;s<t.length;s++)e.push(t[s].mio),n.push(t[s].mao),a.push(t[s].mit),i.push(t[s].mat),r.push(t[s].tnc);o.minMaxValues.minAmount=Math.min.apply(Math,e),o.minMaxValues.maxAmount=Math.max.apply(Math,n),o.minMaxValues.minDuration=Math.min.apply(Math,a),o.minMaxValues.maxDuration=Math.max.apply(Math,i),o.minMaxValues.minTnc=Math.min.apply(Math,r),o.minMaxValues.maxTnc=Math.max.apply(Math,r);var l=(o.minMaxValues.minTnc/100).toFixed(4),m=(o.minMaxValues.maxTnc/100).toFixed(4);return o.minMaxValues.minTaeg=(100*(Math.pow(1+l/12,12)-1)).toFixed(2),o.minMaxValues.maxTaeg=(100*(Math.pow(1+m/12,12)-1)).toFixed(2),o.minMaxValues},o.getEmi=function(t,e,n){if(Number(n)>0){var a=(n/100).toFixed(4);return t*(a/12)/(1-Math.pow(1+a/12,-parseInt(e)))}return t/parseInt(e)},o.isTextSelected=function(){var t="";if(window.getSelection&&window.getSelection().toString()&&"caret"!=n(window.getSelection()).attr("type"))return t=window.getSelection();if(document.getSelection&&document.getSelection().toString()&&"caret"!=n(document.getSelection()).attr("type"))return t=document.getSelection();if(document.activeElement)return t=document.activeElement.value.substring(document.activeElement.selectionStart,document.activeElement.selectionEnd);var e=document.selection&&document.selection.createRange();return typeof e!==this.constants.UNDEFINEDVALUE&&e.text&&e.text.toString()?t=e.text:!1},o.isShiftTab=function(t,e){var n,a;for(n=!1,a=0;!n&&a<t.length;)t[a]===e?n=!0:a++;return n},o.numericCheck=function(t){var e=t.target.value;return e=e.toString().replace(/ /g,""),e&&-1!==e.toString().indexOf("€")&&(e=e.toString().replace(/ /g,"€")),e.indexOf(",")>-1&&e.split(",").length-1<2&&(e=e.replace(/,/g,"."),e=parseInt(e)),o.invalidCheck(e)?8!=t.which&&0!=t.which&&(t.which<48||t.which>57)?(t.preventDefault(),!1):void 0:(t.preventDefault(),!1)},o.numericPlusDecimalCheck=function(t,e,n){var a,i;a=t.which,i="mySlider3"===n?[8,9,16,18,46,44]:[8,9,16,18,46],o.invalidCheck(t.target.value)?o.isShiftTab(i,a)!==!0&&(46==a&&-1==e.indexOf(".")||!(48>a||a>57)||0==t.which||t.preventDefault()):t.preventDefault()},o.textFieldDisable=function(t,e,n,a,i,r){""!==t&&0!==t?(e.find("#credit-monthly-amount-slider").removeAttr("disabled"),e.find("#credit-duration-slider").removeAttr("disabled"),e.find("#credit-monthly-amount-value").attr("disabled",!1),e.find("#credit-duration-value").attr("disabled",!1),e.find(".enable").addClass("active"),0===n&&0===a&&(e.find("#credit-monthly-amount-value").val(" "+i),e.find("#credit-duration-value").val("  "+r))):(e.find("#credit-monthly-amount-slider").attr("disabled","disabled"),e.find("#credit-duration-slider").attr("disabled","disabled"),e.find("#credit-monthly-amount-value").attr("disabled",!0),e.find("#credit-duration-value").attr("disabled",!0),e.find(".enable").removeClass("active"))},o.getClosest=function(t,e){for(var n,a=null,i=0;i<t.length;++i){var r=Math.abs(t[i].emi-e);(null===a||a>=r)&&(n=i,a=r)}return t[n].duration},o.checkValue=function(t){return""===n.trim(t)&&(t=0),t},o.checkBoundaryLimit=function(t,e,n){return t&&(t=parseFloat(t,10)),""===t||t>=e&&n>=t?t=t:e>t?t=e:t>n&&(t=n),t},o.sliderInitialization=function(t,e,a,i,r,s,l,m,u,c){m.find("#"+t).noUiSlider({start:e,range:{min:a,max:i},step:u,format:wNumb({decimals:0})}),"saving"===c?m.find("#"+t).Link("lower").to(n("#"+r),null,wNumb({decimals:l,thousand:" "})):"mySlider3"===t?m.find("#"+t).Link("lower").to(n("#"+r),null,wNumb({postfix:s,decimals:l,mark:","})):m.find("#"+t).Link("lower").to(n("#"+r),null,wNumb({postfix:s,decimals:l})),o.noUiSliderManager("#"+t)},o.sliderInitializationSaving=function(t,e,n,a,i,r,s,l,m){l.find("#"+t).noUiSlider({start:e,range:{min:n,max:a},step:m,format:wNumb({decimals:0})}),o.noUiSliderManager("#"+t)},o.initTooltip=function(t){var e=n(t),a="mouseenter";("ontouchstart"in window||navigator.maxTouchPoints)&&(a="click");var i="qtip-light tooltip"+(e.hasClass("alertTooltipBtn")?" alerteModal":"");i+=e.hasClass("credit")?" credit":"",i+=e.hasClass("creditRenouvelable")?" creditRenouvelable":"",i+=e.hasClass("epargne")?" epargne":"",i+=e.hasClass("assurance")?" assurance":"",i+=e.hasClass("projets")?" projets":"";var r=e.parents(".slick-slider").length>0;e.qtip({content:{text:r?n("#"+e.data("tooltip")).clone():n("#"+e.data("tooltip"))},position:{my:e.data("orientation"),at:e.data("position"),target:e.data("target")?n(e.data("target")):e,viewport:n(window),adjust:{method:"shift shift"}},show:e.data("stay")?"click":a,hide:e.data("stay")?"click":{fixed:!0,delay:250},style:{classes:i,width:300,tip:{width:15,height:15}},events:{render:function(t,e){n(".close",e.elements.content).click(function(t){e.hide(t)})}}})},o.SelectizeForm=function(){o.initSelectize=function(){o.initEventsSelectize(),o.initSelectize=function(){}},o.initEventsSelectize=function(){n("select").each(function(){n(this).selectize({dropdownParent:"body",placeholder:"sdfgsdg"})})},o.initSelectize()},o.noUiSliderManager=function(t){var e=t;o.init=function(){o.refreshSlider(),o.initEvents(),o.init=function(){}},o.refreshSlider=function(){var t;n(e+" .point").each(function(){n(this).removeClass("selected active"),Math.round(n(this).data("point"))==parseInt(n(e).val())&&n(this).addClass("selected"),Math.round(n(this).data("point"))<parseInt(n(e).val())&&n(this).addClass("active")}),t="#mySlider1"===e||"#mySlider2"===e||"#mySlider3"===e||"#mySlider4"===e?n(e).siblings(".stepContainer").find(".step"):n(e).siblings(".stepContainer").find(".step"),t.each(function(){n(this).removeClass("selected"),Math.round(n(this).data("point"))==parseInt(n(e).val())&&n(this).addClass("selected")})},o.initEvents=function(){var t,a;n(e).on({set:this.refreshSlider}),n(e+" .point").click(function(){n(e).val(parseInt(n(this).data("point")))}),t="#mySlider1"===e||"#mySlider2"===e||"#mySlider3"===e||"#mySlider4"===e?n(e).siblings(".stepContainer").find(".step"):n(e).siblings(".stepContainer").find(".step"),t.click(function(){a=n(this).data("point")?n(this).data("point"):0,n(e).val(a)}),n(".commutable").click(function(){var t=n(this);t.parents(".sliderContainer").find(".commutable").addClass("disabled"),t.removeClass("disabled")})},o.init()},o.getMinMaxTaegValueReroutingCRL=function(t){var e=[];if(o.minMaxTaegValues=[],t.length>1){for(var n=0;n<t.length;n++)t[n].maxAmount<=999999.99&&"0.00"!==t[n].teg&&e.push(t[n].teg);o.minMaxTaegValues[0]={minTaeg:Math.min.apply(Math,e),maxTaeg:Math.max.apply(Math,e)}}return o.minMaxTaegValues},o.getMinMaxAmountValueReroutingCRL=function(t,e){var n=[],a=[];if(o.minMaxAmountValues=[],o.minMaxEmiValues=[],t.length>1){for(var i=0;i<t.length;i++)n.push(t[i].amount),"0.00"!==t[i].emi&&a.push(t[i].emi);return o.minMaxAmountValues[0]={minAmount:Math.min.apply(Math,n),maxAmount:Math.max.apply(Math,n)},o.minMaxEmiValues[0]={minEmi:Math.min.apply(Math,a),maxEmi:Math.max.apply(Math,a)},1===t.length&&(o.minMaxAmountValues[0]={minAmount:t[0].minAmount,maxAmount:t[0].maxAmount},o.minMaxEmiValues[0]={minEmi:t[0].minEmi,maxEmi:t[0].maxEmi}),"monthlyInstalment"===e?o.minMaxEmiValues:o.minMaxAmountValues}},o.getMinMaxDurationandEmiValueReroutingCRL=function(t,e){var n=[],a=[],i=[];if(o.minMaxDurationandEmiValues=[],t.length>0){for(var r=0;r<t.length;r++)n.push(t[r].duration),0!==parseFloat(t[r].emi)&&(a.push(t[r].emi),i.push(t[r].amount));return"monthlyInstalment"===e?(o.minMaxDurationandEmiValues[0]={minDuration:Math.min.apply(Math,n),maxDuration:Math.max.apply(Math,n),minAmount:Math.min.apply(Math,i),maxAmount:Math.max.apply(Math,i)},o.minMaxDurationandEmiValues):(o.minMaxDurationandEmiValues[0]={minDuration:Math.min.apply(Math,n),maxDuration:Math.max.apply(Math,n),minEmi:Math.min.apply(Math,a),maxEmi:Math.max.apply(Math,a)},o.minMaxDurationandEmiValues)}},o.getReroutingCRLResult=function(t,e,n,a,i,r,s,l){o.simulationCRLResult=[];var m,u,c;return m=(parseFloat(a)*(parseInt(i)-1)+1*parseFloat(r)).toFixed(2),u=((parseFloat(a)*(parseInt(i)-1)+1)*parseFloat(r)).toFixed(2),c=(parseFloat(s)+parseFloat(l)).toFixed(2),o.simulationCRLResult[0]={materialCode:t,sellerCode:e,productCode:n,totalDueAmtWithoutIns:m,totalDueAmtWithIns:u,interestPlusTotCostOfOptionalIns:c},o.simulationCRLResult},o.getListData=function(t){return o.listA=[],o.listB=[],o.listC=[],o.list=[],a.each(t,function(t,e){"C"===t.category?o.listC[e]={formula:t.formula,amount:(Number(t.amount)/100).toFixed(2),duration:t.duration,emi:(Number(t.emi)/100).toFixed(2),interests:(Number(t.interest)/100).toFixed(2),lastEmi:(Number(t.lastEmi)/100).toFixed(2),emiWithInsurance:(Number(t.emiWithInsurance)/100).toFixed(2),amountOfInterestWithIns:(Number(t.amountOfInterestWithIns)/100).toFixed(2),totalInsurance:(Number(t.totalInsurance)/100).toFixed(2),lastEmiWithInsurance:(Number(t.lastEmiWithInsurance)/100).toFixed(2),monthlyCostOfIns:(Number(t.monthlyCostOfIns)/100).toFixed(2),taea:(Number(t.taea)/100).toFixed(2)}:"B"===t.category?o.listB[e]={formula:t.formula,minAmount:(Number(t.minAmount)/100).toFixed(2),maxAmount:(Number(t.maxAmount)/100).toFixed(2),tnc:(Number(t.tnc)/100).toFixed(2),teg:(Number(t.teg)/100).toFixed(2)}:"A"===t.category&&(o.listA[e]={partnerCode:t.partnerCode,applicationCode:t.applicationCode,processingDate1:t.processingDate1,processingDate2:t.processingDate2,dataGenerationIndicator:t.dataGenerationIndicator,insuranceRates:(Number(t.insuranceRates)/100).toFixed(2),postPonementNumber:t.postPonementNumber})}),o.listC=o.listC.filter(Boolean),o.listB=o.listB.filter(Boolean),o.listA=o.listA.filter(Boolean),o.list.push(o.listC),o.list.push(o.listB),o.list.push(o.listA),o.list},o.dateCheck=function(t,e,n){var a=t.split("-"),i=e.split("-"),r=n.split("/"),o=new Date(a[0],a[1]-1,a[2]),s=new Date(i[0],i[1]-1,i[2]),l=new Date(r[2],r[1]-1,r[0]);return l>=o&&s>=l?!0:!1},o.getEligibleTarificationList=function(t,e,n,a,i,r,o){"CRL"===a&&(a="PP");var s=!0,l=!0,m=parseFloat(r)||0,u=parseInt(o)||0,c=e.filter(function(t){return s=!0,l=!0,0!=m&&(s=m>=t.mio&&m<=t.mao),0!=u&&(l=u>=t.mit&&u<=t.mat),t.pur==n&&t.alp==a&&s&&l,(t.pur==n||""==t.pur)&&s&&l});return c},o.getCookiedata=function(t){for(var e=t+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""},o.getEligibleTarificationListNew=function(t,e,n,a,i){var r=!0,o=parseFloat(i)||0,s=e.filter(function(t){return r=!0,0!=o&&(r=o>=parseFloat(t.mio)&&o<=parseFloat(t.mao)),(String(t.pur)==String(a)||""==String(t.pur))&&r});return s},o.getEligibleTarificationNew=function(t){var e=t,n=1,a=e[0],i=[];if(e&&e.length>1){var r=o.getPeerValues("min","tnc",e),s=e.filter(function(t){return parseFloat(t.tnc)===parseFloat(r)});a=s[0]}return a&&(i[0]={minDuration:+a.mit,maxDuration:+a.mat,minAmount:parseFloat(a.mio/n),maxAmount:parseFloat(a.mao/n),tnc:parseFloat(a.tnc)}),i},o.getEligibleTarification=function(t,e){var n=t,a=n[0],i=[];if(n&&n.length>1){var r=o.getPeerValues("min","tnc",n),s=n.filter(function(t){return parseFloat(t.tnc)===parseFloat(r)});a=s[0]}return a&&(i[0]={minDuration:Number(a.mit),maxDuration:Number(a.mat),minAmount:Number(a.mio),maxAmount:Number(a.mao),tnc:Number(a.tnc),sellerCode:e,materialCode:a.pur,insuranceType:a.ast+a.asv,insuranceCode:a.asc,tarifType:a.prt,startDate:a.vsd,endDate:a.ved,rerouting:parseFloat(a.apm)}),i},o.getPeerValues=function(t,e,a){var i=n.map(a,function(t){return parseFloat(t[e],10)});return t=t||"max","max"==t?Math.max.apply(this,i):Math.min.apply(this,i)},o.getClosestFromEligibleList=function(t,e,n,a){for(var i,r=[],o=[],s=[],l=0,m=0,u=0,c=0,d=[],p=0;p<t.length;p++)"amount"===n?(m=Math.abs(t[p].amount-e),l=p,o[p]=m):"duration"===n?(m=Math.abs(t[p].duration-e),l=p,o[p]=m):"monthlyInstalment"===n&&(m=Math.abs(t[p].emi-e),l=p,o[p]=m),r[c]={formula:t[l].formula,amount:t[l].amount,duration:t[l].duration,emi:t[l].emi,interests:t[l].interests,lastEmi:t[l].lastEmi,emiWithInsurance:t[l].emiWithInsurance,amountOfInterestWithIns:t[l].amountOfInterestWithIns,totalInsurance:t[l].totalInsurance,lastEmiWithInsurance:t[l].lastEmiWithInsurance,monthlyCostOfIns:t[l].monthlyCostOfIns,taea:t[l].taea,index:p,difference:m},c++;return u=Math.min.apply(Math,o),0===parseFloat(e)?r:(s=r.filter(function(t){i="monthlyInstalment"===n?"emi":n,t.difference===u&&d.push(parseFloat(t[i]))}),s=r.filter(function(t){return i="monthlyInstalment"===n?"emi":n,"highest"===a?t.difference===u&&parseFloat(t[i])===Math.max.apply(Math,d):t.difference===u&&parseFloat(t[i])===Math.min.apply(Math,d)
}))},o.getLeastFilteredData=function(t,e){var n,i,r,o={},s=a.min(t,function(t){return t.formula}),l=e.filter(function(t){return t.formula===s.formula});return a.each(l,function(t){parseFloat(s.amount)>=parseFloat(t.minAmount)&&parseFloat(s.amount)<=parseFloat(t.maxAmount)&&(r=t,n=r.tnc,i=r.teg)}),o={formula:s.formula,amount:s.amount,emi:s.emi,duration:s.duration,amountOfInterestWithIns:s.amountOfInterestWithIns,tnc:n,taeg:i,taea:s.taea,interests:s.interests,lastEmi:s.lastEmi,emiWithInsurance:s.emiWithInsurance,totalInsurance:s.totalInsurance,lastEmiWithInsurance:s.lastEmiWithInsurance,monthlyCostOfIns:s.monthlyCostOfIns}},o.readFile=function(t,e,n){var i;if(n)return i=a.template(n,e);var r=new XMLHttpRequest;return r.open("GET",t,!1),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status)&&(i=e?a.template(r.responseText,e):r.responseText)},r.send(null),i},o.keyPadClose=function(){},o.changeDelimiter=function(t){return t+="",t.indexOf(",")>-1&&t.split(",").length-1<2&&(t=t.replace(/,/g,".")),t},o.invalidCheck=function(t){var e,n;n=[],n=o.restrictedParameters.split(","),a.each(n,function(t,n){e=n>0?e+"|"+"["+t+"]":'"['+t+']"'});var i=new RegExp(e);return i.test(t.toString().replace(/\s/g,""))?!1:!0},o.createDropDown=function(e,n,a){var i,r;return i=new Backbone.Collection,i.add(e),r=new t.comp.forms.SelectionList({el:n,placeholder:a,data:i,hideSearch:!0})},o.listenDropDown=function(t,e,n,a,i,r,o,s){n.set(a,t.get("id")),i.set(r,t.get("label")),s&&o.set(s,t.get("code"))},o.createModal=function(t,e,a){var i,t=t,r=n(this).data("modalwidth"),o="";void 0==r||""==r?(r=300,o=""):o="qtip-width-custom",t.$el.find("."+e).each(function(){i={content:{text:n("#"+n(this).data("modal"))},position:{my:"top center",at:"top center",target:n(window),viewport:n(window),adjust:{scroll:!1,y:100}},show:{event:"click",modal:{on:!0}},hide:!1,style:{classes:"qtip-light modal "+o,width:r,tip:!1},events:{render:function(t,e){a&&a(),n(".close",e.elements.content).click(function(t){e.hide(t)})}}},n(this).qtip(i)})},o.loadTemplate=function(t,e,n){var t=a.map(t,function(t){return"text!"+t});require(t,e,n)},o.fetchVendorParams=function(t){if(t.url&&t.codevendeur){var e=t.url+t.codevendeur.substring(0,3)+"/"+t.codevendeur.substring(3)+".json";this.fetchJSON(e,function(e,n,a){t.success&&t.success(e,n,a)}).fail(function(e,n,a){t.error&&t.error(e,n,a)})}},o.fetchJSON=function(t,e){return n.getJSON(t,e)},o.print=function(t,e){function a(t){var n=window.open("",e,"height=1000,width=1000");return n.document.write("<html><head><title>"+e+"</title>"),n.document.write("</head><body >"),n.document.write(t),n.document.write("</body></html>"),n.print(),n.close(),!0}a(n(t).html())},o.getSliderStep=function(t){var e=function(t){for(var e=t[0],a=1;a<t.length;a++)e=n(e,t[a]);return e},n=function(t,e){for(;e>0;){var n=e;e=t%e,t=n}return t},a=function(t){if(isNaN(t)||!isFinite(t))return 0/0;if(0==t)return 0;if(t%1||2>t*t)return 1;if(0==t%2)return 2;if(0==t%3)return 3;if(0==t%5)return 5;for(var e=Math.sqrt(t),n=7;e>=n;n+=30){if(0==t%n)return n;if(0==t%(n+4))return n+4;if(0==t%(n+6))return n+6;if(0==t%(n+10))return n+10;if(0==t%(n+12))return n+12;if(0==t%(n+16))return n+16;if(0==t%(n+22))return n+22;if(0==t%(n+24))return n+24}return t},i=function(){var n=e(t);return 1===n?1:a(n)};return i()},o.throwError=function(t,e){t.$el.append("<div>"+e+"</div>")},o.readCRLFile=function(t,e,n){var i,r,o,s=new XMLHttpRequest;return s.open("GET",t,!1),s.onreadystatechange=function(){if(4===s.readyState&&(200===s.status||0===s.status)){if(r=s.responseText,!r)return;o=2===(r.match(new RegExp("A;","g"))||[]).length?r.substring(0,r.lastIndexOf("A;")).indexOf("AUPC")>0?r.substring(0,r.lastIndexOf("A;")).trim():r.substring(r.lastIndexOf("A;"),r.length).trim():r;var t=o.split("\n");i=a.map(t,function(t){t=t.trim();var e=t.split(";");return"C"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),amount:n.formatters.spaceCommaRemover(e[2]),duration:n.formatters.spaceCommaRemover(e[3]),emi:n.formatters.spaceCommaRemover(e[4]),interest:n.formatters.spaceCommaRemover(e[5]),lastEmi:n.formatters.spaceCommaRemover(e[6]),emiWithInsurance:n.formatters.spaceCommaRemover(e[7]),amountOfInterestWithIns:n.formatters.spaceCommaRemover(e[8]),totalInsurance:n.formatters.spaceCommaRemover(e[9]),lastEmiWithInsurance:n.formatters.spaceCommaRemover(e[10]),monthlyCostOfIns:n.formatters.spaceCommaRemover(e[11]),taea:n.formatters.spaceCommaRemover(e[12])}:"B"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),minAmount:n.formatters.spaceCommaRemover(e[2]),maxAmount:n.formatters.spaceCommaRemover(e[3]),tnc:n.formatters.spaceCommaRemover(e[4]),teg:n.formatters.spaceCommaRemover(e[5])}:"A"===e[0]?{category:e[0],partnerCode:n.formatters.spaceCommaRemover(e[1]),applicationCode:n.formatters.spaceCommaRemover(e[2]),processingDate1:n.formatters.spaceCommaRemover(e[3]),dataGenerationIndicator:n.formatters.spaceCommaRemover(e[4]),processingDate2:n.formatters.spaceCommaRemover(e[5]),insuranceRates:n.formatters.spaceCommaRemover(e[6]),postPonementNumber:n.formatters.spaceCommaRemover(e[7])}:void 0})}},s.send(null),i&&(i=i.filter(function(t){return void 0!==t})),i},o.readNewCRLFile=function(t,e,n,i){var r,o,s,l=new XMLHttpRequest;return l.open("GET",t,!1),l.onreadystatechange=function(){if(4===l.readyState&&(200===l.status||0===l.status)){if(o=l.responseText,!o)return;s=2===(o.match(new RegExp("A;","g"))||[]).length?o.substring(0,o.lastIndexOf("A;")).indexOf(i)>0?o.substring(0,o.lastIndexOf("A;")).trim():o.substring(o.lastIndexOf("A;"),o.length).trim():o;var t=s.split("\n");r=a.map(t,function(t){t=t.trim();var e=t.split(";");return"C"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),amount:n.formatters.spaceCommaRemover(e[2]),duration:n.formatters.spaceCommaRemover(e[3]),emi:n.formatters.spaceCommaRemover(e[4]),interest:n.formatters.spaceCommaRemover(e[5]),lastEmi:n.formatters.spaceCommaRemover(e[6]),emiWithInsurance:n.formatters.spaceCommaRemover(e[7]),amountOfInterestWithIns:n.formatters.spaceCommaRemover(e[8]),totalInsurance:n.formatters.spaceCommaRemover(e[9]),lastEmiWithInsurance:n.formatters.spaceCommaRemover(e[10]),monthlyCostOfIns:n.formatters.spaceCommaRemover(e[11]),taea:n.formatters.spaceCommaRemover(e[12])}:"B"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),minAmount:n.formatters.spaceCommaRemover(e[2]),maxAmount:n.formatters.spaceCommaRemover(e[3]),tnc:n.formatters.spaceCommaRemover(e[4]),teg:n.formatters.spaceCommaRemover(e[5])}:"A"===e[0]?{category:e[0],partnerCode:n.formatters.spaceCommaRemover(e[1]),applicationCode:n.formatters.spaceCommaRemover(e[2]),processingDate1:n.formatters.spaceCommaRemover(e[3]),dataGenerationIndicator:n.formatters.spaceCommaRemover(e[4]),processingDate2:n.formatters.spaceCommaRemover(e[5]),insuranceRates:n.formatters.spaceCommaRemover(e[6]),postPonementNumber:n.formatters.spaceCommaRemover(e[7])}:void 0})}},l.send(null),r&&(r=r.filter(function(t){return void 0!==t})),r},o.readDTSCRLFile=function(t,e,n,i){var r,o,s,l,m,u,c,d=[],p=new XMLHttpRequest;return p.open("GET",t,!1),p.onreadystatechange=function(){if(4===p.readyState&&(200===p.status||0===p.status)){if(o=p.responseText,!o)return;2===(o.match(new RegExp("A;","g"))||[]).length?(s=o.substring(0,o.lastIndexOf("A;")).indexOf(i)>0?o.substring(0,o.lastIndexOf("A;")).trim():o.substring(o.lastIndexOf("A;"),o.length).trim(),u=o.substring(0,o.lastIndexOf("A;")).indexOf(i)>0?o.substring(o.lastIndexOf("A;"),o.length).trim():o.substring(0,o.lastIndexOf("A;")).trim()):s=o,l=s.split("\n"),r=a.map(l,function(t){t=t.trim();var e=t.split(";");return"C"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),amount:n.formatters.spaceCommaRemover(e[2]),duration:n.formatters.spaceCommaRemover(e[3]),emi:n.formatters.spaceCommaRemover(e[4]),interest:n.formatters.spaceCommaRemover(e[5]),lastEmi:n.formatters.spaceCommaRemover(e[6]),emiWithInsurance:n.formatters.spaceCommaRemover(e[7]),amountOfInterestWithIns:n.formatters.spaceCommaRemover(e[8]),totalInsurance:n.formatters.spaceCommaRemover(e[9]),lastEmiWithInsurance:n.formatters.spaceCommaRemover(e[10]),monthlyCostOfIns:n.formatters.spaceCommaRemover(e[11]),taea:n.formatters.spaceCommaRemover(e[12])}:"B"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),minAmount:n.formatters.spaceCommaRemover(e[2]),maxAmount:n.formatters.spaceCommaRemover(e[3]),tnc:n.formatters.spaceCommaRemover(e[4]),teg:n.formatters.spaceCommaRemover(e[5])}:"A"===e[0]?{category:e[0],partnerCode:n.formatters.spaceCommaRemover(e[1]),applicationCode:n.formatters.spaceCommaRemover(e[2]),processingDate1:n.formatters.spaceCommaRemover(e[3]),dataGenerationIndicator:n.formatters.spaceCommaRemover(e[4]),processingDate2:n.formatters.spaceCommaRemover(e[5]),insuranceRates:n.formatters.spaceCommaRemover(e[6]),postPonementNumber:n.formatters.spaceCommaRemover(e[7])}:void 0}),r&&(r=r.filter(function(t){return void 0!==t})),d[0]=r,c=u.split("\n"),m=a.map(c,function(t){t=t.trim();var e=t.split(";");return"C"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),amount:n.formatters.spaceCommaRemover(e[2]),duration:n.formatters.spaceCommaRemover(e[3]),emi:n.formatters.spaceCommaRemover(e[4]),interest:n.formatters.spaceCommaRemover(e[5]),lastEmi:n.formatters.spaceCommaRemover(e[6]),emiWithInsurance:n.formatters.spaceCommaRemover(e[7]),amountOfInterestWithIns:n.formatters.spaceCommaRemover(e[8]),totalInsurance:n.formatters.spaceCommaRemover(e[9]),lastEmiWithInsurance:n.formatters.spaceCommaRemover(e[10]),monthlyCostOfIns:n.formatters.spaceCommaRemover(e[11]),taea:n.formatters.spaceCommaRemover(e[12])}:"B"===e[0]?{category:e[0],formula:Number(n.formatters.spaceCommaRemover(e[1])),minAmount:n.formatters.spaceCommaRemover(e[2]),maxAmount:n.formatters.spaceCommaRemover(e[3]),tnc:n.formatters.spaceCommaRemover(e[4]),teg:n.formatters.spaceCommaRemover(e[5])}:"A"===e[0]?{category:e[0],partnerCode:n.formatters.spaceCommaRemover(e[1]),applicationCode:n.formatters.spaceCommaRemover(e[2]),processingDate1:n.formatters.spaceCommaRemover(e[3]),dataGenerationIndicator:n.formatters.spaceCommaRemover(e[4]),processingDate2:n.formatters.spaceCommaRemover(e[5]),insuranceRates:n.formatters.spaceCommaRemover(e[6]),postPonementNumber:n.formatters.spaceCommaRemover(e[7])}:void 0}),m&&(m=m.filter(function(t){return void 0!==t})),d[1]=m}},p.send(null),d},o.appendSpaceToLabel=function(t){return t&&-1===t.indexOf(" ")&&(t=" ".concat(t)),t},o.assignTopics=function(t,e){n.each(t,function(t,n){e[t]=n})},o.replaceKeys=function(t,e){return Object.keys(t).forEach(function(n){if(e[n]){var a=e[n];t[a]=t[n],delete t[n]}}),t},o.disableSlider=function(t,e,n,a,i,r,o){t.find("#"+e).val(r),o.set(i,""),o.set(a,""),t.find("#"+n).attr("disabled","disabled"),t.find("#"+e).attr("disabled",!0),t.find("#"+n).closest(".sliderContainer .active").removeClass("active"),t.find("#"+e).closest(".sliderContainer .active").removeClass("active")},o.errorTemplate=function(t,e){e.html(r),i.bind(e,{values:t})},o.loadWCMContent=function(t,e,n,i){require(["text!"+t],function(t){var r=a.template(t,e);i.find(n).html(r)})},o.readContents=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status)&&(o.allText=e.responseText)},e.send(null),o.allText},o.initializeHeightManager=function(){var t=n(window),e=window.onorientationchange?"onorientationchange":"debouncedresize",a=640;!function(n){var i={resolution:a,visibility:"visible"},o=function(t,e){var a=n(t);if(e.resolution<e.screenWidth){for(var i=0,r=0,o=a.length;o>r;r++)n(a[r]).css("height","auto"),"hidden"==e.visibility&&n(a[r]).css("visibility","hidden");for(var r=0,o=a.length;o>r;r++){var s=n(a[r]).height();0>s&&(s=0),s>i&&(i=s)}for(var r=0,o=a.length;o>r;r++)n(a[r]).height(i),"hidden"==e.visibility&&n(a[r]).css("visibility","visible")}else for(var r=0,o=a.length;o>r;r++)n(a[r]).css("height",""),"hidden"==e.visibility&&n(a[r]).css("visibility","")};n.fn.equalHeightLarge=function(a){var s=this,l=n.extend({},i,a);return t.bind(e,function(){l.screenWidth=r(),o(s,l)}).trigger(e),s}}(jQuery);var i=function(){return{width:window.innerWidth,height:window.innerHeight}},r=function(){return isNaN(window.orientation)?i().width:90==window.orientation||-90==window.orientation?i().height:i().width},o=function(){var t=640;this.init=function(){this.initEvents(),this.init=function(){}},o.prototype.equalizeThat=function(){var e=">.columns";"undefined"!=typeof n(this).data("equalheightselector")&&n(this).data("equalheightselector").length>0&&(e=n(this).data("equalheightselector")),n(this).find(e+":not(.ignoreEqualHeight)").equalHeightLarge({resolution:n(this).data("equalheightuntil")?n(this).data("equalheightuntil"):t})},o.prototype.initEvents=function(){n("[data-equalheightuntil]").each(this.equalizeThat)},this.init()};return new o},o.isMobileDevice=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},o.formatMaterialCode=function(t){return t?t.replace(/\D/g,""):!1},o.checkAlphaMaterialCode=function(t,e){return t&&""!==t&&e.replace(/\D/g,"")===t.replace(/\D/g,"")?t:e},o.afterTextEntry=function(){!function(t){t.fn.extend({donetyping:function(e,n){n=n||500;var a,i=function(t){a&&(a=null,e.call(t))};return this.each(function(e,r){var o=t(r);o.is(":input")&&o.on("keydown keyup keypress paste",function(t){("keyup"!=t.type||8==t.keyCode)&&(a&&clearTimeout(a),a=setTimeout(function(){i(r)},n))}).on("blur",function(){i(r)})})}})}(jQuery)},o}),bnpp.define("simulationResultBlock/model/simulationResultConfigModel",["backbone"],function(t){return t.Model.extend({initialize:function(t){this.url=t.url},defaults:{amount:"",goodAmounts:"",defContribution:0,maxContribution:"",showSliders:!1,minDuration:36,maxDuration:96,minAmount:500,maxAmount:9500,sliderAmount:"",sliderduration:""}})}),bnpp.define("text!simulationResultBlock/template/simulationResultTable.html",[],function(){return' \n <div class="row generalLeftContent backgrounded collapse">\n                                  <div class="columns large-12">\n\n                                    <!---------- PHOTOBLOCK BEGINS ---------->\n                                   <div class="row generalLeftContent collapse simulation-result">\n                                    <div class="column">\n                                      \n                            <article class="row collapse spacedTop spacedBottom section-desktop">\n                              <div class="column">\n                                <div class="row spacedTop">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered">\n                                    <div class="row">\n                                      <div class="column large-2 medium-2 small-12">\n                                        <a class="modifier" rv-text="labels.LIBF01-006_037"></a>\n                                      </div>\n                                      <div class="column large-10 medium-10 small-12 left-centered simu-title-block">\n                                        <h1 class="simu-title credit" rv-html="config.projectTitleContent"></h1>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                             <article class="row collapse spacedTop spacedBottom section-mobile">\n                              <div class="column">\n                                <div class="row ">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered">\n                                    <div class="row">\n                                      <div class="column large-2 medium-2 small-12">\n                                        <a class="modifier" rv-text="labels.LIBF01-006_037"></a>\n                                      </div>\n                                      <div class="column large-10 medium-10 small-12 left-centered simu-title-block">\n                                        <h1 class="simu-title credit" rv-html="config.projectTitleContent"></h1>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse section-mobile">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row">\n                                    <div class="row">\n                                      <div class="column large-3 medium-5 small-12 simu-montant-container">\n                                        <div class="simu-montant">\n                                          <h2 rv-html="LIBF01-006_006"></h2>\n                                          <div class="whiteBox text-center">\n                                            <p class="montant" rv-text="result.amount|currencyFormatter|euroSymbol"></p>\n											<div class="credito-pouce"></div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse section-mobile section-slick">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns small-12 small-centered simu-first-row">\n                                    <div class="row">\n                                      <div class="column large-4 medium-6 small-12 simu-slider spacedTop">\n                                        <div class="simu-mensualites cetelem">\n                                          <h2 rv-text="labels.LIBF01-006_008" ></h2>\n											<div class="slider-container">\n											<div class="slide" rv-each-element = "view.carousalListPP" rv-id="element.duration" rv-addClass="element.slideClass" >\n											  <p class="line1" rv-text="element.emi |euroSymbol" ></p>\n											  <p class="line2" rv-text="labels.LIBF01-006_038"></p>\n											  <div class="solid-line"></div>\n											  <p class="line3"><span rv-text="element.duration"></span><span rv-text="labels.LIBF01-006_039"></span></p>\n											</div>\n											</div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n                            <article class="row collapse spacedTop spacedBottom section-mobile mobile-top-zero-marigin">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row">\n                                    <div class="column large-4 medium-12 small-12 spacedTop spacedBottom legalSection">\n                                      <div class="simu-taux">\n                                        <div class="text-center">\n                                          <h2 class="a-partir" rv-html="labels.LIBF01-006_040"></h2>\n                                          <div class="infobulle info1" rv-show="result.tarifDiff">i\n                                            <p class="infobulle-text infotext1"><span class="infotitle">« À partir de »</span><span rv-html="config.tooltip-aPartirDe-pp"></span></p>\n                                          </div>\n                                        </div>\n                                        <div class="whiteBox">\n                                          <div class="box-taeg">\n                                            <p class="taux-taeg"><span rv-text="result.taeg"></span> <span rv-text="labels.LIBF01-006_035"></span></p> <span rv-text="labels.LIBF01-006_030"></span>\n                                            <div class="infobulle info2">i\n                                            <p class="infobulle-text infotext2"><span class="infotitle">« TAEG fixe »</span><span rv-html="config.tooltip-taegFixe-pp"></span></p>\n                                            </div>\n                                          </div>\n                                          <div class="box-deb">\n                                            <p class="taux-deb m-font"><span rv-text="result.tnc"></span><span rv-text="labels.LIBF01-006_035"></span></p> <span rv-text="labels.LIBF01-006_031"></span>\n                                            <div class="infobulle info3">i\n                                            <p class="infobulle-text infotext3"><span class="infotitle">« Taux débiteur fixe »</span><span rv-html="config.tooltip-taegDebiteurFixe-pp"></span></p>\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class="cta-container cetelem text-center resultBlockSubmit">\n                                          <a class="button small radius" rv-text="labels.LIBF01-006_028"></a>\n                                          <p class="m-font" rv-text="labels.LIBF01-006_029"></p>\n                                        </div>\n                                      </div>\n\n                                      <div class="column simu-faq">\n                                        <div class="column spacedTop lexi-cntr">\n                                          <ul role="tablist" data-accordion="" class="accordion">\n                                            <li class="accordion-navigation">\n                                              <a role="tab" href="#subpanel1d" id="subpanel1d-heading" aria-controls="subpanel1d" class="m-font">\n											  <span rv-text="labels.LIBF01-006_056"></span><span class="child-active-toggle"></span>\n											  </a>\n                                              <div role="tabpanel" class="content" aria-labelledby="subpanel1d-heading" id="subpanel1d">\n                                                <div class="spacedTop spacedLeft lexique">\n                                                  <p class="m-font" rv-text="labels.LIBF01-006_042"></p>\n                                                </div>\n                                              </li>\n                                              <li class="accordion-navigation">\n                                                <a role="tab" href="#subpanel2d" id="subpanel2d-heading" aria-controls="subpanel2d" class="m-font" >\n												<span rv-text="labels.LIBF01-006_057"></span><span class="child-active-toggle"></span>\n												</a>\n                                                <div role="tabpanel" class="content" aria-labelledby="subpanel2d-heading" id="subpanel2d">\n                                                  <div class="spacedTop spacedLeft lexique">\n                                                    <p class="m-font" rv-text="labels.LIBF01-006_043"></p>\n                                                  </div>\n                                                </li>\n                                              </ul>\n                                            </div>\n                                          </div>\n\n                                            \n                                          </div>\n                                        </div>\n                                      </div>                                    \n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom section-desktop">\n                              <div class="column">\n                                <div class="row spacedTop">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row">\n                                    <div class="row">\n                                      <div class="column large-3 medium-5 small-12 simu-montant-container spacedTop spacedBottom">\n                                        <div class="simu-montant">\n                                          <h2 rv-html="labels.LIBF01-006_006"></h2>\n                                          <div class="whiteBox text-center">\n                                            <p class="montant" rv-text="result.amount|currencyFormatter |euroSymbol"></p>\n											<div class="credito-pouce"></div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                      <div class="column large-4 medium-6 small-12 simu-slider spacedTop spacedBottom">\n                                        <div class="simu-mensualites cetelem">\n                                          <h2 rv-html="labels.LIBF01-006_008"></h2>\n											<div class="slider-container">\n											<div class="slide" rv-each-element = "view.carousalListPP" rv-id="element.duration" rv-addClass="element.slideClass" >\n											  <p class="line1" rv-text="element.emi |euroSymbol" ></p>\n											  <p class="line2" rv-text="labels.LIBF01-006_038"></p>\n											  <div class="solid-line"></div>\n											  <p class="line3"><span rv-text="element.duration"></span><span rv-text="labels.LIBF01-006_039"></span></p>\n											</div>\n											</div>\n                                         \n                                        </div>\n                                      </div>\n                                      <div class="column large-4 medium-12 small-12 spacedTop spacedBottom legalSection">\n                                        <div class="simu-taux ">\n                                          <h2 class="a-partir" rv-html="labels.LIBF01-006_040" ></h2>\n                                          <div class="infobulle info1" rv-show="result.tarifDiff">i\n                                            <p class="infobulle-text infotext1"><span class="infotitle">« À partir de »</span><span rv-html="config.tooltip-aPartirDe-pp"></span></p>\n                                          </div>\n                                          <div class="whiteBox">\n                                            <div class="box-taeg">\n                                              <p class="taux-taeg"><span rv-text="result.taeg"></span> <span rv-text="labels.LIBF01-006_035"></span></p> <span rv-text="labels.LIBF01-006_030"></span>\n                                              <div class="infobulle info2">i\n                                              <p class="infobulle-text infotext2"><span class="infotitle">« TAEG fixe »</span><span rv-html="config.tooltip-taegFixe-pp"></span></p>\n                                              </div>\n                                            </div>\n                                            <div class="box-deb">\n                                              <p class="taux-deb m-font"><span rv-text="result.tnc"></span><span rv-text="labels.LIBF01-006_035"></span></p> <span rv-text="labels.LIBF01-006_031"></span>\n                                              <div class="infobulle info3">i\n                                              <p class="infobulle-text infotext3"><span class="infotitle">« Taux débiteur fixe »</span><span rv-html="config.tooltip-taegDebiteurFixe-pp"></span></p>\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class="cta-container cetelem text-center">\n                                            <a class="button small radius resultBlockLegalSubmit" rv-text="labels.LIBF01-006_028"></a>\n                                            <p class="m-font" rv-text="labels.LIBF01-006_029"></p>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-middle-row">\n                                    <div class="row">\n                                      <div class="column large-8 medium-12 small-12 large-uncentered small-centered simu-details-container simuResultDetails">\n                                        <div class="simu-details">\n                                          <div class="details-topbar">\n                                            <h2 class="details-title" rv-text="labels.LIBF01-006_001"></h2>\n                                            <a href="#">\n                                              <div class="tlg-icon icon"></div>\n                                            </a>\n                                            <a href="#">\n                                              <div class="msg-icon icon"></div>\n                                            </a>\n                                            <a >\n                                              <div class="print-icon icon"></div>\n                                            </a>\n                                             <a href="#">\n                                              <div class="shr-icon icon"></div>\n                                            </a>\n                                          </div>\n                                          <div class="whiteBox">\n                                              <div class="detail-line credit">\n                                                <p class="third-box m-font"  rv-text = "result.amount |currencyFormatter |euroSymbol"></p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_002"></p>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line credit">\n                                                <p class="credit third-box m-font"><span class="tiny-p-right aPartir"  rv-text="labels.LIBF01-006_015"></span> <span rv-text = "result.mensualite|currencyFormatter|euroSymbol"></span></p>\n                                                <div class="first-second">\n                                                  <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_041"></span>\n                                                  <p class="credit first-box m-font"> <span rv-text="labels.LIBF01-006_003"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span></p> \n                                                   <div class="infobulle info4">i<p class="infobulle-text infotext4"><span class="infotitle">« Mensualité »</span><span rv-html="config.tooltip-mensualite-pp"></span></p></div>\n                                                  <div class="dotted-line credit second-box infodotted"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box m-font" rv-text="result.duration"></p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_004"></p>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box ngtv-margintop m-font"><span class="tiny-p-right aPartir"  rv-text="labels.LIBF01-006_015"></span> <span rv-text = "result.interestAmount|currencyFormatter|euroSymbol"></span></p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_005"></p>\n                                                  <div class="infobulle info5">i<p class="infobulle-text infotext5"><span class="infotitle">« Intérêts »</span><span rv-html="config.tooltip-interests-pp"></span></p></div>\n                                                  <div class="dotted-line second-box infodotted"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box m-font" rv-text = "result.dfa|currencyFormatter|euroSymbol"></p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font"  rv-text="labels.LIBF01-006_012"></p>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box m-font"><span  rv-text = "result.numberOfTerms"></span>  \n												<span rv-text="labels.LIBF01-006_010"></span> </p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_013"></p>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n\n                                              <div class="detail-line">\n                                               <div class="solid-line"></div>\n                                             </div>\n                                             <div class="detail-line credit">\n                                              <p class="third-box bold m-font"><span class="tiny-p-right aPartir" rv-text="labels.LIBF01-006_015"></span> <span  rv-text = "result.totalDueAmount|currencyFormatter|euroSymbol"></span>  \n	\n	</p>\n                                              <div class="first-second">\n                                                <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_041"></span>\n                                                <p class="first-box bold m-font"><span rv-text="labels.LIBF01-006_014"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span></p>\n                                                <div class="infobulle info6">i<p class="infobulle-text infotext6"><span class="infotitle">« Montant total dû »</span><span rv-html="config.tooltip-montantTotalDu-pp"></span></p></div>\n                                                <div class="dotted-line second-box infodotted"></div>\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class="cta-container cetelem text-center">\n                                            <a class="button small radius resultBlockSubmit" rv-text="labels.LIBF01-006_028"></a>\n                                            <p  rv-text="labels.LIBF01-006_029"></p>\n											\n                                          </div>\n                                        </div>\n\n                                        <div class="assurance-container columns large-12 medium-6 small-12 spacedTop spacedBottom">\n                                        <span class="creditDetailsHdlr" rv-html="config.creditDetailsContent"></span>\n                                          <div class="assurance-table resultTablePP">\n                                            <div class="detail-line">\n                                              <p class="third-box m-font"><span class="tiny-p-right aPartir"                   rv-text="labels.LIBF01-006_015"></span> <span  rv-text = "result.monthlyInsuranceAmount|currencyFormatterSub |euroSymbol"></span> </p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_032"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                            <div class="detail-line">\n                                              <p class="third-box m-font"><span class="tiny-p-right aPartir" rv-text="labels.LIBF01-006_015"></span>\n							<span  rv-text = "result.totalInsuranceAmount|currencyFormatterSub  |euroSymbol"></span>  </p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_033"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                            <div class="detail-line">\n                                              <p class="third-box m-font"><span class="tiny-p-right aPartir" rv-text="labels.LIBF01-006_015"></span>\n											<span  rv-text = "result.taea|currencyFormatterSub"></span>  \n											<span rv-text="labels.LIBF01-006_035"></span> </p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_034"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class="column large-4 medium-6 small-12 exemple-column exemple-tablet spacedTop spacedBottom">\n                                        <div class="simu-exemple legalNoticePP" rv-html="config.resultBlockLegalHTML">\n                                          \n                                        </div>\n                                      </div>\n                                      </div>\n                                      <div class="column large-4 medium-6 small-12 exemple-column exemple-desktop">\n                                        <div class="simu-exemple legalNoticePP" rv-html="config.resultBlockLegalHTML">\n                                          \n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-third-row">\n                                    <div class="creditStepsCRL" rv-html="config.creditStepsCRLContent"></div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n\n                            <article class="row collapse spacedTop spacedBottom legal simu-legal">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered legal-bottom">\n                                    <span rv-html="config.legalNoticeDetailsHTML"></span>\n                                    <div class="ml legalNoticePP" rv-html="config.cetelemOffersHTML"></div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n                          </div>\n                        </div>\n\n                            <!---------- PHOTOBLOCK END ---------->\n\n\n                                  </div>\n'
}),bnpp.define("text!simulationResultBlock/template/simulationResultTbl.html",[],function(){return'<!------------------------------------------- CONTENU CENTRAL BEGIN ------------------------------------------->\n                              <div class="row generalLeftContent backgrounded collapse">\n                                  <div class="columns large-12">\n\n                                    <!---------- PHOTOBLOCK BEGINS ---------->\n                                   <div class="row generalLeftContent collapse simulation-result">\n                                    <div class="column">\n                                      \n                            <article class="row collapse spacedTop spacedBottom section-desktop">\n                              <div class="column">\n                                <div class="row spacedTop">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered">\n                                    <div class="row">\n                                      <div class="column large-2 medium-12 small-12">\n                    <a class="modifier" rv-text="labels.LIBF01-006_037"></a>\n                                      </div>\n                                      <div class="column large-10 medium-12 small-12 left-centered simu-title-block">\n                    <h1 class="simu-title creditRenouvelable" rv-text="config.projectTitleContent"></h1>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                          <article class="row collapse spacedTop spacedBottom section-mobile">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered">\n                                    <div class="row">\n                                      <div class="column large-2 medium-12 small-12">\n                    <a class="modifier" rv-text="labels.LIBF01-006_037"></a>\n                                      </div>\n                                      <div class="column large-10 medium-12 small-12 left-centered simu-title-block">\n                    <h1 class="simu-title creditRenouvelable" rv-text="config.projectTitleContent"></h1>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n\n                            <article class="row collapse section-mobile">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row no-sidepad">\n                                    <div class="row">\n                                      <div class="column large-3 medium-5 small-12 simu-montant-container">\n                                        <div class="simu-montant">\n                      <h2 rv-text="labels.LIBF01-006_006"></h2>\n                                          <div class="whiteBox text-center">\n                                            <p class="montant" rv-text="result.amount|currencyFormatter|euroSymbol"></p>\n											<div class="credito-pouce"></div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse section-mobile section-slick">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns small-12 small-centered simu-first-row">\n                                    <div class="row">\n                                      <div class="column large-4 medium-6 small-12 simu-slider spacedTop spacedBottom">\n                                        <div class="simu-mensualites cetelem">\n                                          <h2 rv-text="labels.LIBF01-006_018" rv-hide="config.MensuslidesTitle"></h2>\n                                          <h2 rv-text="labels.LIBF01-006_003" rv-show="config.MensuslidesTitle"></h2>\n										  <div class="slider-container-dts slider-container-dtsMobile" rv-show="config.dureeSlides">\n										  <div class="slide" rv-each-element = "view.carousalList" rv-id="element.duration" rv-addClass="element.slideClass" >\n											<p class="line3"><span rv-text="element.duration"></span><span rv-text="labels.LIBF01-006_039"></span></p>\n											<div class="solid-line"></div>				\n											<p class="line1" rv-text="element.emi |euroSymbol" ></p>\n											<p class="line2" rv-text="labels.LIBF01-006_038"></p>\n										  </div>\n										  </div>\n					  \n										  <!--duree slides-->\n										  <div class="slider-container" rv-hide="config.dureeSlides">\n										  <div class="slide" rv-each-element = "view.carousalList" rv-id="element.duration" rv-addClass="element.slideClass" >\n											<p class="line1" rv-text="element.emi |euroSymbol" ></p>\n											<p class="line2" rv-text="labels.LIBF01-006_038"></p>\n											<div class="solid-line"></div>\n											<p class="line3"><span rv-text="element.duration"></span><span rv-text="labels.LIBF01-006_039"></span></p>\n										  </div>\n										  </div>\n										  <!--duree slides end-->\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom section-mobile">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row">\n                                    <div class="column large-4 medium-12 small-12 spacedTop spacedBottom newcr no-sidepad">\n                                      <div class="simu-taux">\n                                        <div class="text-center">\n                                          <p class="a-partir"> <span rv-text="labels.LIBF01-006_024"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span></p>\n                                          \n                                          <div class="infobulle info1 ncr-bulle">i\n                                            <p class="infobulle-text infotext1"><span class="infotitle" rv-html="config.tooltip-montantTotalDu-ncr"></span></p>\n											\n                                          </div>\n                                        </div>\n                                        <div class="whiteBox">\n                                          <div class="box-taeg">\n                                            <p class="taux-taeg"><span rv-text="result.totalDueAmount|currencyFormatter|euroSymbol"></span></p>\n                                            <p class="m-font" rv-text="labels.LIBF01-006_025"></p>\n											<p class="m-font"><span rv-text="labels.LIBF01-006_079"></span> <span class="bold m-font montant" rv-text="result.interestAmount|currencyFormatter|euroSymbol"></span></p>\n                                          </div>\n                                        </div>\n                                        <div class="cta-container cetelem text-center">\n                      <a class="button small radius hasModal askLoanCRLLegal" rv-text="labels.LIBF01-006_028"></a>\n                                            <p class="m-font" rv-text="labels.LIBF01-006_029"></p>\n                                        </div>\n                                      </div>\n\n<!--                                       <div class="column simu-faq no-sidepad">\n                                        <div class="column spacedTop lexi-cntr no-sidepad">\n                                          <ul role="tablist" data-accordion="" class="accordion">\n                                            <li class="accordion-navigation">\n                                              <a role="tab" href="#subpanel1d" id="subpanel1d-heading" aria-controls="subpanel1d" class="m-font">\n											 <span rv-text="labels.LIBF01-006_056"></span><span class="child-active-toggle"></span>\n											  </a>\n                                              <div role="tabpanel" class="content" aria-labelledby="subpanel1d-heading" id="subpanel1d">\n                                                <div class="spacedTop spacedLeft lexique">\n                                                  <p class="m-font" rv-text="labels.LIBF01-006_047"></p>\n                                                </div>\n                                              </li>\n                                              </ul>\n                                            </div>\n                                          </div> -->\n\n                                            \n                                          </div>\n                                        </div>\n                                      </div>                                    \n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop section-desktop">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-first-row">\n                                    <div class="row collapse">\n                                      <div class="column large-3 medium-5 small-12 simu-montant-container spacedTop spacedBottom ncr">\n                                        <div class="simu-montant">\n                      <h2 rv-text="labels.LIBF01-006_006"></h2>\n                                          <div class="whiteBox text-center">\n                                            <p class="montant" rv-text="result.amount|currencyFormatter|euroSymbol"></p>\n                                            <div class="credito-pouce"></div>\n                                          </div>\n                                        </div>\n                                      </div>\n                        <div class="column large-4 medium-6 small-12 simu-slider spacedTop spacedBottom test ncr" rv-hide="config.dureeSlides">\n                            <div class="simu-mensualites cetelem">\n                                <h2 class="ncrduree" rv-text="labels.LIBF01-006_003" rv-show="config.MensuslidesTitle"></h2>\n                                <div class="slider-container" rv-hide="config.dureeSlides">\n                                    <div class="slide" rv-each-element="view.carousalList" rv-id="element.duration" rv-addClass="element.slideClass">\n                                        <p class="line1" rv-text="element.emi |euroSymbol"></p>\n                                        <p class="line2" rv-text="labels.LIBF01-006_038"></p>\n                                        <div class="solid-line"></div>\n                                        <p class="line3"><span rv-text="element.duration"></span><span rv-text="labels.LIBF01-006_039"></span></p>\n                                    </div>\n                                </div>\n                                <!--duree slides-->\n                               \n                                <!--duree slides-->\n                            </div>\n                        </div>\n                        <div class="column large-5 medium-7 small-12 simu-slider spacedTop spacedBottom ncr dts" rv-show="config.dureeSlides">\n                             <div class="simu-mensualites cetelem">\n                                <h2 class="ncrduree" rv-text="labels.LIBF01-006_018"></h2>\n								 <div class="slider-container-dts">\n										   <div class="slide" rv-each-element="view.carousalList"  rv-id="element.duration" rv-addClass="element.slideClass">\n												<p class="line3"><span  rv-text="element.duration"> </span> \n												<span  rv-text="labels.LIBF01-006_039"> </span></p>\n												<div class="solid-line"></div>\n												<p class="line1"  rv-text="element.emi |euroSymbol"></p>\n												<p class="line2"  rv-text="labels.LIBF01-006_038"></p>\n											</div> \n								</div>  \n                            </div>\n                        </div>\n                                      <div class="column large-4 medium-12 small-12 spacedTop spacedBottom no-sidepad ncr">\n                                        <div class="simu-taux mtd">\n                                          <h2 class="a-partir" rv-text="labels.LIBF01-006_014"></h2>\n										  <div class="infobulle info1 ncr-bulle">i<p class="infobulle-text infotext1">\n												<span rv-html="config.tooltip-montantTotalDu-ncr"></span>\n												</p></div>\n                                          <div class="whiteBox">\n                                            <div class="box-taeg">\n                                              <p class="details-title bold m-font taux-taeg"><span rv-text="result.totalDueAmount|currencyFormatter|euroSymbol"></span></p>\n                                              <p class="m-font" rv-text="labels.LIBF01-006_025"</p>\n											  <p class="m-font"><span rv-text="labels.LIBF01-006_079"></span> <span class="bold m-font montant" rv-text="result.interestAmount|currencyFormatter|euroSymbol"></span></p>\n                                            </div>\n                                          </div>\n                                          <div class="cta-container cetelem text-center">\n                                            <a class="button small radius hasModal askLoanCRLLegal" rv-text="labels.LIBF01-006_028" ></a>\n                                            <p class="m-font" rv-text="labels.LIBF01-006_029"></p>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-middle-row no-sidepad">\n                                    <div class="row">\n                                      <div class="column large-8 medium-12 small-12 large-uncentered small-centered simu-details-container">\n                                        <div class="simu-details">\n                                          <div class="details-topbar">\n                                            <h2 class="details-title" rv-text="labels.LIBF01-006_001"></h2>\n                                            <a href="#">\n                                              <div class="tlg-icon icon"></div>\n                                            </a>\n                                            <a href="#">\n                                              <div class="msg-icon icon"></div>\n                                            </a>\n                                            <a href="#">\n                                              <div class="print-icon icon"></div>\n                                            </a>\n                                             <a href="#">\n                                              <div class="shr-icon icon"></div>\n                                            </a>\n                                          </div>\n                                          <div class="whiteBox newcr">\n                                              <div class="detail-line creditRenouvelable">\n                                                <p class="third-box m-font" rv-text="result.amount|currencyFormatter|euroSymbol"></p>\n                                                <div class="first-second">\n                          <p class="first-box m-font" rv-text="labels.LIBF01-006_002"></p>\n                          <div class="dotted-line creditRenouvelable second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line creditRenouvelable" rv-hide="config.orderMensuDuree">\n                                                <p class="creditRenouvelable third-box m-font"><span rv-text="result.duration"></span>\n                        <span rv-text="labels.LIBF01-006_026"></span></p>\n                                                <div class="first-second">\n                                                  <!-- <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_041"></span> -->\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_018"></p>\n                                                  <div class="dotted-line creditRenouvelable second-box"></div>\n                                                </div>\n                                              </div>\n											  \n                                              <div class="detail-line" rv-hide="config.orderMensuDuree">\n												<div class="third-box m-font doublemonth">\n													<span rv-text="result.nbPremMens"></span>\n													<span rv-text="labels.LIBF01-006_059"></span>\n													<span rv-text="result.mensualite|currencyFormatter|euroSymbol"></span>\n													<div class="last-month">\n														<span rv-text="labels.LIBF01-006_060"></span>\n														<span rv-text="result.lastMensualite|currencyFormatter|euroSymbol"></span>\n													</div>\n												</div>\n												<div class="first-second">\n													<span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_025"></span>\n													<p class="first-box m-font">\n														<span rv-text="labels.LIBF01-006_008"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span>\n													</p>\n													<div class="infobulle info2 ncr-bulle">i\n														<p class="infobulle-text infotext2">\n															<span rv-html="config.tooltip-mensualite-ncr"></span>\n														</p>\n													</div>\n													<div class="dotted-line second-box"></div>\n												</div>\n											</div>\n											  \n											  <!--second Mensualite-->\n											  <div class="detail-line creditRenouvelable" rv-show="config.orderMensuDuree">\n												<div class="third-box m-font doublemonth">\n													<span rv-text="result.nbPremMens"></span>\n													<span rv-text="labels.LIBF01-006_059"></span>\n													<span rv-text="result.mensualite|currencyFormatter|euroSymbol"></span>\n													<div class="last-month">\n														<span rv-text="labels.LIBF01-006_060"></span>\n														<span rv-text="result.lastMensualite|currencyFormatter|euroSymbol"></span>\n													</div>\n												</div>\n												<div class="first-second">\n													<span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_025"></span>\n													<p class="first-box m-font">\n														<span rv-text="labels.LIBF01-006_008"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span>\n													</p>\n													<div class="infobulle info2 ncr-bulle">i\n														<p class="infobulle-text infotext2">\n															<span rv-html="config.tooltip-mensualite-ncr"></span>\n														</p>\n													</div>\n													<div class="dotted-line creditRenouvelable second-box"></div>\n												</div>\n											</div>\n											  <!--second Mensualite-->\n											  \n											  <!--second duration-->\n											  <div class="detail-line" rv-show="config.orderMensuDuree">\n                                                <p class="creditRenouvelable third-box m-font"><span rv-text="result.duration"></span>\n                        <span rv-text="labels.LIBF01-006_026"></span></p>\n                                                <div class="first-second">\n                                                  <!-- <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_041"></span> -->\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_018"></p>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n											  <!--second duration-->\n											  \n											  \n                                              <div class="detail-line">\n                                                <p class="third-box m-font"><span rv-text="result.interestAmount|currencyFormatter|euroSymbol"></span></p>\n                                                <div class="first-second">\n                                                  <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_025"></span>\n                          <p class="first-box m-font"> <span rv-text="labels.LIBF01-006_005"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span></p> \n												  <div class="infobulle info3 ncr-bulle">i<p class="infobulle-text infotext3">\n													<span rv-html="config.tooltip-interests-ncr"></span>\n													</p></div>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box m-font"><span rv-text="result.taeg"></span>\n                        <span rv-text="labels.LIBF01-006_035"></span></p>\n                                                <div class="first-second">\n                                                  <p class="first-box m-font" rv-text="labels.LIBF01-006_020"></p>\n												  <div class="infobulle info4 ncr-bulle">i<p class="infobulle-text infotext4">\n													<span rv-html="config.tooltip-taegFixe-ncr"></span>\n													</p></div>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n                                              <div class="detail-line">\n                                                <p class="third-box m-font" ><span rv-text="result.tnc"></span>\n                        <span rv-text="labels.LIBF01-006_035"></span></p>\n                                                <div class="first-second">\n                          <p class="first-box m-font" rv-text="labels.LIBF01-006_021"></p>\n												  <div class="infobulle info5 ncr-bulle">i<p class="infobulle-text infotext5">\n													<span rv-html="config.tooltip-taegDebiteurFixe-ncr"></span>\n													</p></div>\n                                                  <div class="dotted-line second-box"></div>\n                                                </div>\n                                              </div>\n\n                                              <div class="detail-line">\n                                               <div class="solid-line"></div>\n                                             </div>\n                                             <div class="detail-line creditRenouvelable">\n                                              <p class="third-box bold m-font"><span rv-text="result.totalDueAmount|currencyFormatter|euroSymbol"></span></p>\n                                              <div class="first-second">\n                                                <span class="tiny-p-left tiny-mobile" rv-text="labels.LIBF01-006_025"></span>\n                        <p class="first-box bold m-font"> <span rv-text="labels.LIBF01-006_024"></span> <span class="tiny-p-left tiny-desktop" rv-text="labels.LIBF01-006_025"></span></p>\n                        \n                                                <div class="infobulle info6 ncr-bulle">i<p class="infobulle-text infotext6">\n												<span rv-html="config.tooltip-montantTotalDu-ncr"></span>\n												</p></div>\n                                                <div class="dotted-line creditRenouvelable second-box infodotted"></div>\n                                              </div>\n                                            </div>\n                                          </div>\n                                           <p class="ml" rv-text="labels.LIBF01-006_078"></p>\n                                          <div class="cta-container cetelem text-center">\n										 \n                                            <a class="button small radius hasModal askLoanCRL" rv-text="labels.LIBF01-006_028" data-modal="carteModal" data-modalwidth="840"></a>\n                                            <p class="m-font" rv-text="labels.LIBF01-006_029"></p>\n											<a class="displayPP" rv-show="config.displayReroutingLink" rv-text="labels.LIBF01-006_077"></a>\n                                          </div>\n                                        </div>\n\n                    <div class="assurance-container columns large-12 medium-6 small-12 spacedTop spacedBottom ncr">\n                                        <span class="creditDetailsHdlr" rv-html="config.creditDetailsContent"></span>\n                                          <div class="assurance-table resultTablePP">\n                                            <div class="detail-line">\n                                              <p class="third-box m-font"><span rv-text = "result.monthlyInsuranceAmount|currencyFormatterSub |euroSymbol"></span> \n                        <span><sup>(3)</sup></span></p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_032"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                            <div class="detail-line">\n                                              <p class="third-box m-font">\n                        <span  rv-text = "result.totalInsuranceAmount|currencyFormatterSub  |euroSymbol"></span>  </p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_033"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                            <div class="detail-line" rv-show="result.taea| isNotValid">\n                                              <p class="third-box m-font">\n                      <span  rv-text = "result.taea|currencyFormatterSub"></span>  \n                      <span rv-text="labels.LIBF01-006_035"></span> </p>\n                                              <div class="first-second">\n                                                <p class="first-box m-font" rv-text="labels.LIBF01-006_034"></p>\n                                                <div class="dotted-line second-box"></div>\n                                              </div>\n                                            </div>\n                                          </div>\n                      <div class="ml legalNoticePP spacedTop">\n                                            <span rv-text="labels.LIBF01-006_061"></span>\n                                          </div>\n                                          <div class="ml legalNoticePP" rv-html="config.descriptionCRL">\n                                            <!-- <span rv-text="labels.LIBF01-006_062"></span> -->\n                                          </div>\n                                        </div>\n                                        <div class="column large-4 medium-6 small-12 exemple-column exemple-tablet spacedTop spacedBottom no-sidepad newcr">\n                    <div class="simu-exemple legalNoticePP" rv-html="config.resultBlockLegalHTML"></div>\n                                      </div>\n                                      </div>\n                                      <div class="column large-4 medium-6 small-12 exemple-column exemple-desktop newcr">\n                    <div class="simu-exemple legalNoticePP" rv-html="config.resultBlockLegalHTML"></div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n						\n							<article class="row collapse spacedTop spacedBottom" id="ncr-simple-steps">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="columns small-12 small-centered no-sidepad">\n                                    <div class="row">\n                                      <div class="columns large-11 medium-11 small-11 large-centered medium-centered small-centered simu-third-row newcr">\n									<div class="creditStepsCRL" rv-html="config.creditStepsCRLContent"></div>\n                                  </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n\n                            <article class="row collapse spacedTop spacedBottom legal simu-legal">\n                              <div class="column">\n                                <div class="row">\n                                  <div class="column small-11 small-centered">\n                                    <div class="row">\n                                      <div class="columns large-11 medium-11 small-12 large-centered medium-centered small-centered legal-bottom no-sidepad">\n                                    <div class="legalNoticeCRL" rv-html="config.legalNoticeCRL"></div>\n                                  </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </article>\n                         </div>\n                          </div>\n                        </div>\n                                        <!---------- PHOTOBLOCK END ---------->'
}),bnpp.define("text!simulationResultBlock/template/simulationResultPPTable.html",[],function(){return'\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <div rv-text="labels.LIBC01-001_013"></div>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-show="result.tarifDiff" rv-text="labels.LIBC01-001_014"></span>\n		<span rv-text="result.minTnc"></span>\n         <span rv-text="labels.LIBC01-001_020"></span>\n	</div>\n</div>\n</div>\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <b><div rv-text="labels.LIBC01-001_015"></div></b>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-show="result.tarifDiff" rv-text="labels.LIBC01-001_014"></span>\n		<b><span rv-text = "result.taeg"></span>   \n		<span rv-text="labels.LIBC01-001_020"></span>   </b>\n	</div>\n</div>\n</div>\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <b><div rv-text="labels.LIBC01-001_016"></div></b>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n	<span rv-show="result.tarifDiff" rv-text="labels.LIBC01-001_014"></span>\n	<b><span rv-text = "result.totalDueAmount|currencyFormatter"></span>   \n		<span rv-text="labels.LIBF01-006_007"></span>   </b>\n	</div>\n</div>\n</div>\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <div rv-text="labels.LIBC01-001_033"></div>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n	<span rv-text="result.dfa|currencyFormatter"></span>  \n	<span rv-text="labels.LIBF01-006_007"></span> \n	</div>\n</div>\n</div>\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <div rv-text="labels.LIBC01-001_017"></div>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n	<span rv-show="result.tarifDiff" rv-text="labels.LIBC01-001_014"></span>\n	<span  rv-text = "result.monthlyInsuranceAmount|currencyFormatter"></span>  \n	<span rv-text="labels.LIBF01-006_007"></span> \n	</div>\n</div>\n</div>\n'}),bnpp.define("text!simulationResultBlock/template/simulationResultCRLTable.html",[],function(){return'<h1>SimulationResultCRL</h1>\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <div rv-text="labels.LIBC01-001_021"></div>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-text="result.responseResultCRL.formula"></span>\n		<span rv-text="labels.LIBF01-006_010"></span>\n		<span rv-text="labels.LIBC01-001_026"></span>\n	</div>\n</div>\n</div>\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <span  rv-text="labels.LIBC01-001_022"></span>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-text = "result.responseResultCRL.amount|currencyFormatter"></span>   \n		<span rv-text="labels.LIBF01-006_007"></span>   \n	</div>\n</div>\n</div>\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <div rv-text="labels.LIBC01-001_006"></div>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-text="result.responseResultCRL.duration"></span>   \n		<span  rv-text="labels.LIBF01-006_010"></span>\n	</div>\n</div>\n</div>\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <b><div rv-text="labels.LIBC01-001_025"></div></b>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n	\n	<span>\n          <span rv-text="result.responseResultCRL.nbPremMens"></span>\n          <span rv-text="labels.LIBC01-001_032"></span>\n          <span rv-text="result.responseResultCRL.emi|currencyFormatter"></span>\n          <span rv-text="labels.LIBF01-006_007"></span> \n          \n          <span rv-text="labels.LIBC01-001_031"></span>\n          <span rv-text="result.responseResultCRL.lastEmi|currencyFormatterSub"></span>\n          <span rv-text="labels.LIBF01-006_007"></span> \n      </span>\n	\n	</div>\n</div>\n</div>\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <b><div rv-text="labels.LIBC01-001_023"></div></b>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<b><span rv-text = "result.responseResultCRL.taeg|currencyFormatter"></span>   \n		<span rv-text="labels.LIBC01-001_020"></span> </b>\n	</div>\n</div>\n</div>\n\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n    <span  rv-text="labels.LIBC01-001_024"></span>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-text = "result.responseResultCRL.tnc|currencyFormatter"></span>   \n		<span rv-text="labels.LIBC01-001_020"></span>   \n	</div>\n</div>\n</div>\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n		<b><span rv-text="labels.LIBC01-001_027"></span> \n		<span rv-text="labels.LIBC01-001_028"></span></b>\n</div>\n<div class="columns large-6 medium-6 small-4">\n    <div>\n		<span rv-text="result.responseResultCRL.totalDueAmount|currencyFormatter"></span>  \n		<span rv-text="labels.LIBF01-006_007"></span>  \n	</div>\n</div>\n</div>\n\n\n<div class="row spacedTop">\n	<div class="columns large-6 medium-6 small-8">\n		<span rv-text="labels.LIBC01-001_029"></span>\n	</div>\n	<div class="columns large-6 medium-6 small-4">\n		<div>\n			<span  rv-text = "result.responseResultCRL.interestAmount|currencyFormatter"></span>   \n			<span rv-text="labels.LIBF01-006_007"></span> \n		\n		</div>\n	</div>\n</div>\n'}),bnpp.define("simulationResultBlock/view/webAnalytics",["backbone","underscore","../../../app/simulationCommons/simulationRivetConfig","jquery","../../../app/simulationCommons/simulationValidate","sf"],function(t,e,n,a,i,r){return t.View.extend({analyticsPublishSimulationLoad:function(t){var e,a,i,o="";t.productCode===t.constants.PP_NAME?(o=t.constants.ANALYTCSPAGEPP,e=t.carousalListPP,t.typeOfProject=t.wcmData[t.constants.GOODSCODEINITIAL],a=t.constants.PARMENSUALITE,i=t.constants.TYPERESULTATSIMUPP):(e=t.carousalList,o=t.constants.CRLREDIRECTION,a=t.wcmData.choice,i=t.constants.TYPERESULTATSIMUCRL,"parDuree"===t.wcmData.choice?t.typeOfProject=t.constants.CRLDUREE:"parMensualite"===t.wcmData.choice&&(t.typeOfProject=t.constants.CRLMENSUALITE)),r.messaging.publishTopic(t.constants.ANALYTICSONLOADTOPIC,{ModuleName:t.constants.MODULENAME,event:t.constants.PAGELOADED,vpageName:o,URL_materialCode:t.materialCode,URL_numberDuVendeur:t.wcmData[t.constants.SELLERCODE],URL_productCode:t.productCode,typeOfProject:t.typeOfProject,URL_goodAmount:t.config.get("goodAmounts").toString(),URL_duration:e[t.config.get("selectedDuration")].duration.toString(),tnc:t.amountFormat(t.result.get("tnc")).toString(),URL_monthlyInstalment:n.formatters.currencyFormatterSub(e[t.config.get("selectedDuration")].emi).replace(",",".").toString(),URL_typeTarif:parseFloat(t.amountFormat(t.result.get("tnc")),10)>0?"P":"G",optionSelectionnee:"0",CreditType:t.productCode,methodeSimulation:a,typeResultatSimu:i})},toolkitInteraction:function(t,e){r.messaging.publishTopic(t.constants.WEBANALYTICSTOPIC,{event:e})},analyticsPublishSimulationGenerics:function(t){r.messaging.publishTopic(t.constants.TOPIC_WEBANALYTICS_ONSLIDE,{ModuleName:t.constants.ANALYTICSSIMULATIONGENERICMODULE,event:t.constants.INTERACTIONSIMULATEUR,TypeOfProject:t.goodsCodeInitial,SimulatorInteraction:void 0===t.config.get("SimulatorInteraction")?void 0!==t.simulationModel.get("SimulatorInteraction")?t.simulationModel.get("SimulatorInteraction"):"":t.config.get("SimulatorInteraction")})},analyticsPublishSimulationChange:function(t){var e,a,i,o,s=this;s.calculateParams(t),t.productCode===t.constants.PP_NAME?(e=t.carousalListPP,a=t.constants.ANALYTCSPAGEPP,i=t.constants.PARMENSUALITE,o=t.constants.TYPERESULTATSIMUPP):(e=t.carousalList,a=t.constants.CRLREDIRECTION,i=t.wcmData.choice,o=t.constants.TYPERESULTATSIMUCRL),r.messaging.publishTopic(t.constants.WEBANALYTICSTOPIC,{event:t.constants.SIMULATIONCHANGE,vpageName:a,ModuleName:t.constants.MODULENAME,URL_materialCode:t.materialCode,URL_numberDuVendeur:t.wcmData[t.constants.SELLERCODE],URL_productCode:t.productCode,typeOfProject:s.typeOfProject,URL_typeTarif:parseFloat(t.amountFormat(t.result.get("tnc")),10)>0?"P":"G",URL_goodAmount:t.config.get("goodAmounts").toString(),URL_duration:s.selectedDuration.toString(),tnc:t.amountFormat(t.result.get("tnc")).toString(),URL_monthlyInstalment:n.formatters.currencyFormatterSub(e[t.config.get("selectedDuration")].emi).replace(",",".").toString(),simulationChange:s.simulationChange,optionSelectionnee:s.optionSelection.toString(),CreditType:t.productCode,methodeSimulation:i,typeResultatSimu:o})},analyticsPublishCardChioceLoad:function(t){r.messaging.publishTopic(t.constants.WEBANALYTICSTOPIC,{event:t.constants.MODULEINTERACTION,URL_productCode:t.productCode,typeOfProject:t.typeOfProject,CreditType:t.constants.CARDPAGECREDITTYPE,GoodsCode:t.materialCode,methodeSimulation:t.wcmData.choice,vpageName:t.constants.CARDCHOICEPAGENAME})},analyticsPublishCpaycard:function(t){r.messaging.publishTopic(t.constants.WEBANALYTICSTOPIC,{event:t.constants.MODULEINTERACTION,URL_productCode:t.productCode,typeOfProject:t.typeOfProject,CreditType:t.constants.CARDPAGECREDITTYPE,GoodsCode:t.materialCode,methodeSimulation:t.wcmData.choice,vpageName:t.constants.CPAYPAGENAME})},analyticsPublishMastercard:function(t){r.messaging.publishTopic(t.constants.WEBANALYTICSTOPIC,{event:t.constants.MODULEINTERACTION,URL_productCode:t.productCode,typeOfProject:t.typeOfProject,CreditType:t.constants.CARDPAGECREDITTYPE,GoodsCode:t.materialCode,methodeSimulation:t.wcmData.choice,vpageName:t.constants.MASTERPAGENAME})},calculateParams:function(t){var e,n,a,i=this;if(i.vpageName="",i.simulationChange="",i.optionSelection=0,i.initialDuration=t.config.get("duration"),t.productCode===t.constants.PP_NAME?(e=t.carousalListPP,i.CreditType=t.productCode,i.typeOfProject=t.wcmData[t.constants.GOODSCODEINITIAL]):e=t.carousalList,i.selectedDuration=e[t.config.get("selectedDuration")].duration,t.productCode===t.constants.PP_NAME)i.optionSelection=(i.selectedDuration-i.initialDuration)/t.durationRange;else if("REV"===t.productCode&&"parMensualite"===t.wcmData.choice){for(var r=0;r<t.carousalList.length;r++)i.initialDuration===parseInt(t.carousalList[r].duration,10)&&(n=r+1),i.selectedDuration===t.carousalList[r].duration&&(a=r+1);i.optionSelection=a-n,i.methodeSimulation=t.wcmData.choice,i.CreditType=t.productCode,i.typeOfProject=t.constants.CRLMENSUALITE}else if("REV"===t.productCode&&"parDuree"===t.wcmData.choice){for(var o=0;o<t.carousalList.length;o++)i.initialDuration===parseInt(t.carousalList[o].duration,10)&&(n=o+1),i.selectedDuration===t.carousalList[o].duration&&(a=o+1);i.optionSelection=a-n,i.methodeSimulation=t.wcmData.choice,i.CreditType=t.productCode,i.typeOfProject=t.constants.CRLDUREE}i.lastSelectedDuration=e[t.config.get("lastSelectedDuration")].duration,i.initialDuration<i.selectedDuration&&(i.optionSelection="+"+i.optionSelection),parseInt(i.lastSelectedDuration,10)>parseInt(i.selectedDuration,10)?i.simulationChange="parDuree"===t.wcmData.choice?t.constants.AMOUNTDEC:t.constants.AMOUNTINC:parseInt(i.lastSelectedDuration,10)<parseInt(i.selectedDuration,10)&&(i.simulationChange="parDuree"===t.wcmData.choice?t.constants.AMOUNTINC:t.constants.AMOUNTDEC),t.productCode===t.constants.PP_NAME&&(i.vpageName=t.constants.ANALYTCSPAGEPP)}})}),bnpp.define("simulationResultBlock/model/DFRAModel",["backbone"],function(t){return t.Model.extend({initialize:function(t){this.url=t.url},defaults:{}})}),bnpp.define("simulationResultBlock/model/simulationResultModel",["backbone"],function(t){return t.Model.extend({initialize:function(){},defaults:{goodAmount:"",duration:"",emi:"",PP:"",reRoutingAmount:"",productCode:"",taeg:"",totalAmount:"",lastEMI:"",navigateToCRL:"",navigateToPP:"",totalDueAmount:"",monthlyInsuranceAmount:"",minTnc:""}})}),bnpp.define("simulationResultBlock/view/simulationResultBlock",["backbone","underscore","slick","qtip","../../../app/simulationCommons/simulationRivetConfig","jquery","../../../app/simulationCommons/simulationValidate","nouislider","sf","../model/simulationResultConfigModel","text!../template/simulationResultTable.html","text!../template/simulationResultTbl.html","text!../template/simulationResultPPTable.html","text!../template/simulationResultCRLTable.html","../view/webAnalytics","../model/DFRAModel","../model/simulationResultModel"],function(t,e,n,a,i,r,o,s,l,m,u,c,d,p,f,g,v){return f.extend({model:null,initialize:function(t){var n=this;n.hostUrl=t.hostUrl,n.emulate=!0,n.constants=t.value,n.wcmLabels=t.json,n.wcmData=t.json,n.sellerCode=t.json[n.constants.SELLERCODE],n.materialCode=n.wcmData[n.constants.MATERIALCODE],n.productCode=n.wcmData[n.constants.PRODUCTCODE],n.durationRange=parseInt(n.wcmLabels[n.constants.DURATIONRANGE],10),n.mensuDurationRange=parseInt(n.wcmLabels[n.constants.MENSUDURATIONRANGE],10),n.config=new m({url:n.hostUrl+n.constants.DATEURL}),"REV"===n.productCode&&(n.materialCode=n.wcmData[n.constants.MATERIALCODE]||"810",n.config.set("displayCardPage",void 0===n.wcmData[n.constants.DISABLECARDPAGE]||!parseInt(n.wcmData[n.constants.DISABLECARDPAGE],10))),n.config.set("goodAmounts",parseInt(n.wcmData[n.constants.GOODAMOUNT],10)),n.config.set("duration",parseInt(n.wcmData[n.constants.DURATION],10)),n.config.set("emi",parseInt(n.wcmData[n.constants.EMI],10)),n.wcmData[n.constants.ORIGIN]=n.wcmData[n.constants.ENTREEPARCOURS]===n.constants.GENERIQUE?n.constants.ORIGINS00:n.constants.ORIGINS04,"REV"===n.productCode&&n.wcmData[n.constants.ORIGIN]===n.constants.ORIGINS00?(n.config.set("displayReroutingLink",!0),n.wcmData[n.constants.CHOICE]=n.constants.PARMENSUALITE):n.config.set("displayReroutingLink",!1),n.config.set("isIALoaded",!1),n.result=new v({}),n.paramVendorUrl=n.wcmData.paramVendor+n.wcmData[n.constants.SELLERCODE].substr(0,3)+"/"+n.wcmData[n.constants.SELLERCODE].substr(3)+".json",e.bindAll(n,"calculateResult"),n.config.fetch({contentType:"application/json",type:"POST",success:function(t){n.date=t.get("date"),n.currentDate=n.date.split("/"),n.nextYear=n.currentDate[2],parseFloat(n.currentDate[1])+n.constants.CONSTANTONE<n.constants.CONSTANTTEN?n.nextMonth=n.constants.CONSTANTZERO+String(parseFloat(n.currentDate[1])+n.constants.CONSTANTONE):parseFloat(n.currentDate[1])===n.constants.CONSTANTTWELVE?(n.nextMonth=String(n.constants.CONSTANTZERO)+String(n.constants.CONSTANTONE),n.nextYear=String(parseFloat(n.currentDate[2])+n.constants.CONSTANTONE)):n.nextMonth=String(parseFloat(n.currentDate[1])+n.constants.CONSTANTONE),n.render()},error:function(){o.errorTemplate(n.errorFlags,n.$el)}})},render:function(){var t=this;t.config.url=t.hostUrl+t.constants.VENDORSERVICEPath,{product:t.wcmData[t.constants.PRODUCTCODE],origin:t.wcmData[t.constants.ORIGIN],reroutageeffectif:t.wcmData[t.constants.REROUTAGE],project:{codeGoods:{code:t.materialCode},amountCart:t.wcmData[t.constants.GOODAMOUNT]},vendor:{internationalDistributorNumber:t.wcmData[t.constants.SELLERCODE]},classicCreditFile:{productTypeCd:"CLA"===t.wcmData[t.constants.PRODUCTCODE]?t.constants.CLA:t.constants.REV,fileType:t.constants.CLASSIC,duration:t.wcmData[t.constants.DURATION],bankCardType:t.wcmData[t.constants.BANKCARDTYPE]||"S"},serviceName:"tarif_Vendor_GDFProduct"},t.config.url=t.paramVendorUrl,t.config.fetch({success:function(e){t.paramVdr=e,"CLA"===t.productCode&&t.constants.TOOLTIPLABLES.push(t.constants.PROJECTLABELPREFIX+t.materialCode),t.loadTechnicalUrl(t.constants.TOOLTIPLABLES,t.constants.RESULTSIMTOOLTIP),"REV"===t.productCode?(t.loadTechnicalUrl(t.constants.CRLCARDLABLES,t.constants.CRLCARDPAGE),"parDuree"===t.wcmData[t.constants.CHOICE]?(t.calculateDTSCarousal(),t.config.set("dureeSlides",!0)):("parMensualite"===t.wcmData[t.constants.CHOICE]||t.wcmData[t.constants.ORIGIN]===t.constants.ORIGINS00)&&(t.calculateCRLEMICarousal(),t.config.set("MensuslidesTitle",!0),t.config.set("orderMensuDuree",!0))):"undefined"!=typeof BNPPPF&&BNPPPF.vendorRates[t.sellerCode]&&(t.simulationPPJson=BNPPPF.vendorRates[t.sellerCode],t.eligibleListBoundary=o.fetchGenericDurationList(t.simulationPPJson,t.materialCode,t.productCode,t.sellerCode,0,0),t.eligibleList=o.fetchGenericDurationList(t.simulationPPJson,t.materialCode,t.productCode,t.sellerCode,t.wcmData[t.constants.GOODAMOUNT],0),0!==t.eligibleList.length&&(t.minMaxValues=o.getMinMaxValue(t.eligibleList),t.minMaxValuesBoundary=o.getMinMaxValue(t.eligibleListBoundary),t.minMaxValuesBoundaryAmount=o.getMinMaxValue(t.eligibleListBoundary),t.minDuration=t.minMaxValuesBoundary[0].minDuration,t.maxDuration=t.minMaxValuesBoundary[0].maxDuration,t.wcmData[t.constants.MINDURATION]=Math.max(t.minMaxValuesBoundary[0].minDuration,t.wcmData[t.constants.MINDURATION]),t.wcmData[t.constants.MAXDURATION]=Math.max(t.minMaxValuesBoundary[0].maxDuration,t.wcmData[t.constants.MAXDURATION])),t.calculateCarousal())},error:function(){o.errorTemplate(t.errorFlags,t.$el)}})},events:{"click .slick-next, .slick-prev":function(){r(".slick-prev").show(),r(".slick-next").show()},"click .resultBlockSubmit":function(){var t=this;t.config.set("button","bouton1"),this.resultBlockSubmit("slider")},"click .resultBlockLegalSubmit":function(){var t=this;t.config.set("button","bouton2"),this.resultBlockSubmit("legal")},"click .askLoanCRL":function(){var t=this;t.config.set("button","bouton1"),this.cardSelection()},"click .askLoanCRLLegal":function(){var t=this;t.config.set("button","bouton2"),this.cardSelection()},"click .print-icon":"print","click .tlg-icon":"download","click .msg-icon":"mail","click .modifier":"simulationModify","click .callBackResult":"callBackResult","click .cardSelectButton":"redirectSubcrForm","click .cpaycard":"cpaycardDetails","click .master":"mastercardDetails","click .displayPP":"displayPP"},cpaycardDetails:function(){var t=this;t.$el.html(t.config.get("newcr-cpaycard-details")),window.scrollTo(t.constants.CONSTANTZERO,t.constants.CONSTANTZERO),f.prototype.analyticsPublishCpaycard(t)},mastercardDetails:function(){var t=this;t.$el.html(t.config.get("newcr-mastercard-details")),window.scrollTo(t.constants.CONSTANTZERO,t.constants.CONSTANTZERO),f.prototype.analyticsPublishMastercard(t)},displayPP:function(){var t=this;t.productCode=t.constants.PP_NAME,t.wcmData[t.constants.PRODUCTCODE]=t.constants.PP_NAME,t.render()},redirectSubcrForm:function(){var t=this;void 0===r("input:radio[name=card]:checked").val()?t.config.set("cardChoiceError",t.constants.CARDCHOICEERROR):this.cardBlockSubmit()},callBackResult:function(){var t=this;t.$el.html(c),i.bind(t.$el,{view:t,result:t.result,config:t.config,labels:t.wcmLabels,error:t.simulationConfigModel}),window.scrollTo(t.constants.CONSTANTZERO,t.constants.CONSTANTZERO),setTimeout(function(){t.sliderManager(t.carousalList)},0),r(".slide-"+(t.config.get("selectedDuration")+1)).addClass("active");var e={methodeSimulation:t.wcmData[t.constants.CHOICE]};f.prototype.analyticsPublishSimulationLoad(t),l.messaging.publishTopic(t.constants[t.constants.CARDMODIFIER],e)},cardSelection:function(){var t=this;if(t.config.get("displayCardPage")){if(t.$el.html(t.config.get("newcr-card-selection")),t.config.set("cardChoiceError",!1),i.bind(t.$el,{view:t,result:t.result,config:t.config,labels:t.wcmLabels,error:t.simulationConfigModel}),f.prototype.analyticsPublishCardChioceLoad(t),window.scrollTo(t.constants.CONSTANTZERO,t.constants.CONSTANTZERO),r(window).width()>640){var e=r(".cpay .avantage1").outerHeight(),n=r(".cpay .avantage2").outerHeight(),a=r(".cpay .avantage3").outerHeight();r(".mastercard .avantage1").css("height",e),r(".mastercard .avantage2").css("height",n),r(".mastercard .avantage3").css("height",a)}r(".yes-card .card-radio-container").on("click",function(){r(this).addClass("highlighter"),r(".no-card .card-radio-container").removeClass("highlighter"),t.config.set("cardChoiceError",!1)}),r(".no-card .card-radio-container").on("click",function(){r(this).addClass("highlighter"),r(".yes-card .card-radio-container").removeClass("highlighter"),t.config.set("cardChoiceError",!1)}),o.initializeHeightManager()}else t.cardBlockSubmit()},print:function(t){var e=this;f.prototype.toolkitInteraction(e,e.constants.IMPRESSION),window.print(),t.stopPropagation()},mail:function(t){var e=this;f.prototype.toolkitInteraction(e,e.constants.MAIL),t.stopPropagation()},download:function(t){var e=this;f.prototype.toolkitInteraction(e,e.constants.DOWNLOAD),t.stopPropagation()},simulationModify:function(){var t,e=this;e.getModifierData(),t={ModuleName:e.constants.MODULENAME,Code:e.constants.REDIRECTCODE,Label:"action Link Modifier",Json:e.modifierJson},l.messaging.publishTopic(e.constants[e.constants.SIMULATIONREDIRECT],t)},getProjectTitle:function(){var t=this;t.wcmData[t.constants.ORIGIN]===t.constants.ORIGINS04||"REV"===t.productCode&&t.wcmData[t.constants.ORIGIN]===t.constants.ORIGINS00?(t.config.set("creditDetailsContent",t.config.get("credit-details-simul-ncr")),t.config.set("projectTitleContent",t.wcmData[t.constants.PROJECTTITLECONTENT]+o.readFile(t.wcmData[t.constants.PROJECTSELECTORURL]+t.constants.DEFAULTREV+t.constants.HTML)),t.config.set("creditStepsCRLContent",t.config.get("credit-steps-crl-simul"))):(t.config.set("projectTitleContent",t.wcmData[t.constants.PROJECTTITLECONTENT]+o.readFile(t.wcmData[t.constants.PROJECTSELECTORURL]+t.wcmData[t.constants.MATERIALCODE]+t.constants.HTML)),t.config.set("creditDetailsContent",t.config.get("credit-details-simul")),t.config.set("creditStepsCRLContent",t.config.get("credit-steps-pp-simul")))},calculateLegalDetails:function(){var t,n,a,r=this;t={material:r.materialCode,product:"CLA",amount:r.paramVdr.get(r.constants.MTAMOUNTEXCLA).text,duration:r.paramVdr.get(r.constants.MTDUREEEXCLA).text,merchant:r.sellerCode},r.responseLegalExample=BNPPPF.calculatePP(t),r.config.set("resultBlockLegalHTML",e.unescape(r.config.get("legal-example-pp-simul")));var o=r.responseLegalExample.totalDueAmount.replace(" ","");o=o.replace(",",".");var s=r.responseLegalExample.amount.replace(" ","");s=s.replace(",","."),a=Number(s),n={montant:i.formatters.currencyFormatterSub(a),duration:r.responseLegalExample.duration,teg:i.formatters.currencyFormatterSub(r.responseLegalExample.taeg),tnc:i.formatters.currencyFormatterSub(r.responseLegalExample.tnc),mensualiteSA:i.formatters.currencyFormatterSub(r.responseLegalExample.emi),montantTotal:i.formatters.currencyFormatterSub(parseFloat(a)+parseFloat(Number(o)-Number(s))),interets:i.formatters.currencyFormatterSub(parseFloat(Number(o)-Number(s))),mensAssu:i.formatters.currencyFormatterSub(r.responseLegalExample.monthlyInsuranceAmount),coutTotAssu:i.formatters.currencyFormatterSub(r.responseLegalExample.totalInsuranceAmount),taea:i.formatters.currencyFormatterSub(r.responseLegalExample.taea),labelAssurance:r.wcmData[r.constants.ASSURANCELABELDIM]},r.config.set("resultBlockLegalHTML",e.template(r.config.get("resultBlockLegalHTML"),n))},calculateCRLLegalDetails:function(){var t,n,a,r=this;t={material:r.materialCode,product:"REV",amount:r.paramVdr.get(r.constants.MTAMOUNTEXCR).text,duration:r.paramVdr.get(r.constants.MTDUREEEXCR).text,merchant:r.sellerCode},BNPPPF.calculateEMICRL(t,function(t){n=t,t.error||(a={montant:i.formatters.currencyFormatterSub(n.amount),duration:n.duration,teg:i.formatters.currencyFormatterSub(n.taeg),tnc:i.formatters.currencyFormatterSub(n.tnc),nbDuration:n.nbPremMens,mensualite:i.formatters.currencyFormatterSub(n.emi),lastMensualite:i.formatters.currencyFormatterSub(n.lastEmi),montantTotal:i.formatters.currencyFormatterSub(n.totalDueAmount),interets:i.formatters.currencyFormatterSub(n.interestAmount),nbDurationTotal:n.formula,coutASMapres64ans:i.formatters.currencyFormatterSub(parseFloat(n.monthlyInsuranceAmount)),coutASMjusque64ans:i.formatters.currencyFormatterSub(parseFloat(r.wcmData[r.constants.MONTHLYCOSTHIGH64COEFF]/100)*Number(r.amountFormat(n.amount))),nbDurationASM:n.nbPremMens,mensualiteASM:i.formatters.currencyFormatterSub(n.emiWithInsurance),lastMensualiteASM:i.formatters.currencyFormatterSub(n.lastEmiWithInsurance),coutASMTot:i.formatters.currencyFormatterSub(n.totalInsuranceAmount),taea:i.formatters.currencyFormatterSub(n.taea),date:r.date.split("/")[0]+"/"+r.date.split("/")[1]+"/"+r.date.split("/")[2],currentMonth:r.currentDate[1],nextMonth:r.nextMonth,year:r.currentDate[2],nextYear:r.nextYear},r.config.set("resultBlockLegalHTML",e.template(e.unescape(r.config.get("legal-example-crl-simul")),a)))})},resultBlockSubmit:function(){var t,e,n=this;e="REV"===n.productCode?n.carousalList[n.config.get("selectedDuration")]:n.carousalListPP[n.config.get("selectedDuration")],t={URL_duration:e.duration,URL_goodAmount:n.config.get("goodAmounts").toString(),URL_materialCode:n.materialCode,URL_monthlyInstalment:e.emi,URL_numberDuVendeur:n.sellerCode,URL_productCode:n.productCode,URL_reroutage:n.wcmData[n.constants.REROUTAGE],actualMaterialCode:n.materialCode,currentSimulation:void 0,entreeParcours:n.wcmData[n.constants.ENTREEPARCOURS],goodsCodeInitial:n.wcmData[n.constants.GOODSCODEINITIAL],maxAmount:n.wcmData[n.constants.MAXAMOUNT],maxDuration:n.wcmData[n.constants.MAXDURATION],maxEmi:n.wcmData[n.constants.MAXEMI],maxTaeg:n.wcmData[n.constants.MAXTAEG],minAmount:n.wcmData[n.constants.MINAMOUNT],minDuration:n.wcmData[n.constants.MINDURATION],minEmi:n.wcmData[n.constants.MINEMI],minTaeg:n.wcmData[n.constants.MINTAEG],tnc:e.tnc,origin:n.wcmData[n.constants.ENTREEPARCOURS],originCodeMarketing:o.getCookiedata(n.constants.CODEORIGINE),retailerNumber:n.sellerCode,gtmBtnName:n.config.get("button"),gtmPgName:n.constants.PPREDIRECTION},"REV"===n.productCode&&void 0!==n.wcmData[n.constants.CHOICE]&&("parDuree"===n.wcmData[n.constants.CHOICE]?(t[n.constants.DTSCHOICE]=n.wcmData[n.constants.DTSCHOICE],t[n.constants.MINTAEG]=n.wcmData[n.constants.MINTAEG],t[n.constants.MAXTAEG]=n.wcmData[n.constants.MAXTAEG]):(t[n.constants.MINEMI]=n.wcmData[n.constants.MINEMI],t[n.constants.MAXEMI]=n.wcmData[n.constants.MAXEMI],t[n.constants.MINTAEG]=n.wcmData[n.constants.MINTAEG],t[n.constants.MAXTAEG]=n.wcmData[n.constants.MAXTAEG]),t[n.constants.CHOICE]=n.wcmData[n.constants.CHOICE]),l.messaging.publishTopic(n.constants[n.constants.FORMREDIRECT],{ModuleName:n.constants.MODULENAME,Code:n.constants.REDIRECTCODE,Label:n.constants.LABELCLA,Json:t})},cardBlockSubmit:function(){var t,e,n,a=this;e=a.carousalList[a.config.get("selectedDuration")],n="parDuree"===a.wcmData.choice?a.constants.CRLDUREE:"parMensualite"===a.wcmData.choice?a.constants.CRLMENSUALITE:a.wcmData[a.constants.GOODSCODEINITIAL],t={URL_duration:e.duration,URL_goodAmount:a.config.get("goodAmounts").toString(),URL_materialCode:a.materialCode,URL_monthlyInstalment:e.emi,URL_numberDuVendeur:a.sellerCode,URL_productCode:a.productCode,URL_cardType:a.config.get("displayCardPage")?""===r("input:radio[name=card]:checked").val()?"0":r("input:radio[name=card]:checked").val():a.wcmData[a.constants.BANKCARDTYPE]||"S",actualMaterialCode:a.materialCode,currentSimulation:void 0,entreeParcours:a.wcmData[a.constants.ENTREEPARCOURS],goodsCodeInitial:n,maxAmount:a.wcmData[a.constants.MAXAMOUNT],maxDuration:a.wcmData[a.constants.MAXDURATION],maxTaeg:a.wcmData[a.constants.MAXTAEG],minAmount:a.wcmData[a.constants.MINAMOUNT],minDuration:a.wcmData[a.constants.MINDURATION],minTaeg:a.wcmData[a.constants.MINTAEG],tnc:e.tnc,origin:a.wcmData[a.constants.ENTREEPARCOURS],originCodeMarketing:o.getCookiedata(a.constants.CODEORIGINE),retailerNumber:a.sellerCode,formule:e.formula,gtmBtnName:a.config.get("button"),gtmPgName:a.constants.CRLREDIRECTION},"parDuree"===a.wcmData[a.constants.CHOICE]?(t[a.constants.DTSCHOICE]=a.wcmData[a.constants.DTSCHOICE],t[a.constants.MINTAEG]=a.wcmData[a.constants.MINTAEG],t[a.constants.MAXTAEG]=a.wcmData[a.constants.MAXTAEG]):(t[a.constants.MINEMI]=a.wcmData[a.constants.MINEMI],t[a.constants.MAXEMI]=a.wcmData[a.constants.MAXEMI],t[a.constants.MINTAEG]=a.wcmData[a.constants.MINTAEG],t[a.constants.MAXTAEG]=a.wcmData[a.constants.MAXTAEG]),t[a.constants.CHOICE]=a.wcmData[a.constants.CHOICE],t.dataCRL=e,l.messaging.publishTopic(a.constants[a.constants.FORMREDIRECT],{ModuleName:a.constants.MODULENAME,Code:a.constants.RELOADCODE,Label:a.constants.LABELREV,Json:t})},calculateDTSCarousal:function(){var t=this;t.carousalList=[],t.legalMentionsList=[];for(var e,n,a,o=0;o<t.wcmData[t.constants.DTSCHOICE].length;o++)n={},a={},t.wcmData[t.constants.DTSCHOICE][o]===t.config.get("duration")&&(t.config.set("selectedDuration",o),t.config.set("sliderStartPoisition",o>0?o-1:o)),e={material:t.materialCode,product:t.productCode,amount:parseInt(t.config.get("goodAmounts"),10),duration:t.wcmData[t.constants.DTSCHOICE][o],merchant:t.sellerCode},t.getCRLCarousalList(e,o);t.getProjectTitle(),t.calculateCRLLegalDetails(),t.$el.html(c),i.bind(t.$el,{view:t,result:t.result,config:t.config,labels:t.wcmLabels,error:t.simulationConfigModel}),t.calculateResult(t.config.get("selectedDuration")),t.getDescriptionCRL(),setTimeout(function(){t.sliderManager(t.carousalList)},0),r(".slide-"+(t.config.get("selectedDuration")+1)).addClass("active")},getCRLCarousalList:function(t,e){var n=this,a={};BNPPPF.calculateDTSCRL(t,function(t){a=t,a.totalAmount=parseFloat(parseInt(n.config.get("goodAmounts"),10)+Number(a.totalInsuranceAmount.replace(",","."))),a.slideClass="slide-"+(e+1),n.carousalList.push(a)})},getDescriptionCRL:function(){var t=this,n=t.carousalList[0],a={overDraft:i.formatters.currencyFormatter(n.amount),emiMinus:i.formatters.currencyFormatter(n.monthlyInsuranceAmount),emiPlus:i.formatters.currencyFormatterSub(parseFloat(t.wcmData[t.constants.MONTHLYCOSTHIGH64COEFF]/100)*Number(t.amountFormat(n.amount)))};t.config.set("descriptionCRL",e.template(e.unescape(t.config.get("description-legal-crl")),a))},getStartDuration:function(t,e){var n,a,i=this,r=0;a=i.config.get("duration")<i.wcmData[i.constants.MINDURATION]?i.wcmData[i.constants.MINDURATION]:i.config.get("duration")>i.wcmData[i.constants.MAXDURATION]?i.wcmData[i.constants.MAXDURATION]:i.config.get("duration"),i.config.set("duration",a),n=i.config.get("duration");for(var o=(t-1)/2;o>0;o--)if(i.config.get("duration")-e*o>=i.wcmData[i.constants.MINDURATION]){n=i.config.get("duration")-e*o;break}for(var s=(t-1)/2;s>0;s--)i.config.get("duration")+e*s>i.wcmData[i.constants.MAXDURATION]&&(r=s);return 0!==r&&(n=i.config.get("duration")-e*(t-1-r+1)),n},calculateCarousal:function(){var t,e,n,a=this,o={},s={};n=a.wcmData[a.constants.CAROUSALLENGTH];var l;l=a.getStartDuration(n,a.durationRange);var m=parseInt(l,10);a.carousalListPP=[],a.legalMentionsList=[];for(var d=0;n>d;d++)t={},e={},a.productCode===a.constants.PP_NAME&&(parseInt(a.config.get("duration"),10)===m&&(a.config.set("selectedDuration",d),a.config.set("sliderStartPoisition",d>0?d-1:d)),o={material:a.materialCode,product:a.productCode,amount:parseInt(a.config.get("goodAmounts"),10),duration:m,merchant:a.sellerCode},s={material:a.materialCode,product:a.productCode,amount:parseInt(a.config.get("goodAmounts"),10),duration:m,merchant:a.sellerCode},t=BNPPPF.calculresultBlockPP(o),t.totalAmount=parseFloat(parseInt(a.config.get("goodAmounts"),10)+Number(t.totalInsuranceAmount.replace(",","."))),t.slideClass="slide-"+(d+1),e=BNPPPF.calculatePPMention(s),a.carousalListPP.push(t),a.legalMentionsList.push(e),m+=a.durationRange);a.getProjectTitle(),"REV"===a.productCode?(a.calculateCRLLegalDetails(),a.$el.html(c)):"CLA"===a.productCode&&(a.calculateLegalDetails(),a.$el.html(u)),i.bind(a.$el,{view:a,result:a.result,config:a.config,labels:a.wcmLabels,error:a.simulationConfigModel}),a.calculateResult(a.config.get("selectedDuration")),setTimeout(function(){a.sliderManager(a.carousalListPP)},0),r(".slide-"+(a.config.get("selectedDuration")+1)).addClass("active")},calculateCRLEMICarousal:function(){var t,e,n,a=this,o={};n=a.wcmData[a.constants.CAROUSALLENGTH];var s;s=a.getStartDuration(n,a.mensuDurationRange);var l=parseInt(s,10);a.carousalList=[],a.legalMentionsList=[];
for(var m=0;n>m;m++)t={},e={},a.productCode===a.constants.CRL_NAME&&(parseInt(a.config.get("duration"),10)===l&&(a.config.set("selectedDuration",m),a.config.set("sliderStartPoisition",m>0?m-1:m)),o={material:a.materialCode,product:a.productCode,amount:parseInt(a.config.get("goodAmounts"),10),duration:l,merchant:a.sellerCode},a.getCRLmensualiteCarousalList(o,m),l+=a.mensuDurationRange);a.getProjectTitle(),a.calculateCRLLegalDetails(),a.$el.html(c),i.bind(a.$el,{view:a,result:a.result,config:a.config,labels:a.wcmLabels,error:a.simulationConfigModel}),a.calculateResult(a.config.get("selectedDuration")),a.getDescriptionCRL(),setTimeout(function(){a.sliderManager(a.carousalList)},0),r(".slide-"+(a.config.get("selectedDuration")+1)).addClass("active")},getCRLmensualiteCarousalList:function(t,e){var n=this,a={};BNPPPF.calculateEMICRL(t,function(t){a=t,a.totalAmount=parseFloat(parseInt(n.config.get("goodAmounts"),10)+Number(a.totalInsuranceAmount.replace(",","."))),a.slideClass="slide-"+(e+1),n.carousalList.push(a)})},sliderManager:function(t){var n,a,i,o=this;o.$el.find(".slider-container, .slider-container-dtsMobile").each(function(){r(this).wcmslick({slidesToShow:3,slidesToScroll:1,infinite:!1,initialSlide:o.config.get("sliderStartPoisition"),prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:o.config.get("sliderStartPoisition")+1,centerMode:!0,infinite:!1,variableWidth:!0,centerPadding:"60px"}}]})}),"CLA"===o.productCode&&(i=o.carousalListPP.length-1,o.result.attributes.duration===o.carousalListPP[0].duration?r(".slick-prev").hide():r(".slick-prev").show(),o.result.attributes.duration===o.carousalListPP[i].duration?r(".slick-next").hide():r(".slick-next").show()),"REV"===o.productCode&&"parDuree"===o.wcmData[o.constants.CHOICE]&&(a=o.carousalList.length-1,o.result.attributes.duration===o.carousalList[0].duration?r(".slick-prev").hide():r(".slick-prev").show(),o.result.attributes.duration===o.carousalList[a].duration?r(".slick-next").hide():r(".slick-next").show()),"REV"===o.productCode&&"parMensualite"===o.wcmData[o.constants.CHOICE]&&(a=o.carousalList.length-1,o.result.attributes.duration===o.carousalList[0].duration?r(".slick-prev").hide():r(".slick-prev").show(),o.result.attributes.duration===o.carousalList[a].duration?r(".slick-next").hide():r(".slick-next").show()),screen.width<480&&r(".infobulle").each(function(t){var e=t+1;r.fn.qtip.zindex=2,r.fn.qtip[o.constants.MODAL_ZINDEX]=2,r(".info"+e).qtip({style:{classes:"simu-qtip"},content:{text:r(".infotext"+e),button:!0},position:{my:"top center",at:"bottom center",target:r(".mainNav")},show:{modal:{on:!0,blur:!1}},events:{render:function(t,e){r(this).bind("tooltipfocus tooltipblur",function(t){e.elements.overlay.toggleClass("simu-overlay","tooltipfocus"===t.type)})}}})}),r(".slide").click(function(){var s;r(".slide").not(this).removeClass("active"),r(this).addClass("active"),s=r(this).attr("id"),"CLA"===o.productCode&&(s===o.carousalListPP[0].duration.toString()?r(".slick-prev").hide():r(".slick-prev").show(),s===o.carousalListPP[i].duration.toString()?r(".slick-next").hide():r(".slick-next").show()),"REV"===o.productCode&&"parMensualite"===o.wcmData[o.constants.CHOICE]&&(s===o.carousalList[0].duration?r(".slick-prev").hide():r(".slick-prev").show(),s===o.carousalList[a].duration?r(".slick-next").hide():r(".slick-next").show()),"REV"===o.productCode&&"parDuree"===o.wcmData[o.constants.CHOICE]&&(s===o.carousalList[0].duration?r(".slick-prev").hide():r(".slick-prev").show(),s===o.carousalList[a].duration?r(".slick-next").hide():r(".slick-next").show()),s&&(n=e.find(t,function(t,e){parseInt(t.numberOfTerms,10)===parseInt(s,10)&&(o.config.set("lastSelectedDuration",o.config.get("selectedDuration")),o.config.set("selectedDuration",e),o.config.set("sliderStartPoisition",e>0?e-1:e))}),o.calculateResult(o.config.get("selectedDuration")),f.prototype.analyticsPublishSimulationChange(o))})},calculateResultMensuCRL:function(t){var e,n=this;"REV"===n.productCode&&(n.config.set("resultblockCRL",!0),e=n.carousalList[t],e&&(n.result.set("amount",i.formatters.currencyFormatter(parseInt(n.config.get("goodAmounts"),10))),n.result.set("mensualite",i.formatters.currencyFormatter(e.emi)),n.result.set("lastMensualite",i.formatters.currencyFormatter(e.lastEmi)),n.result.set("nbPremMens",e.nbPremMens),n.result.set("duration",e.duration),n.result.set("interestAmount",e.interestAmount),n.result.set("tarifDiff",e.tarifDiff),n.result.set("dfa",e.dfa),n.result.set("numberOfTerms",e.numberOfTerms),n.result.set("totalDueAmount",e.totalDueAmount),n.result.set("monthlyInsuranceAmount",e.monthlyInsuranceAmount),n.result.set("totalInsuranceAmount",e.totalInsuranceAmount),n.result.set("taea",e.taea),n.result.set("taeg",e.taeg),n.result.set("tnc",e.tnc),n.result.set("totalAmount",e.totalAmount)))},calculateResult:function(t){var e,n,a=this;"REV"===a.productCode?(a.config.set("resultblockCRL",!0),n=a.carousalList[t],n&&(a.result.set("amount",i.formatters.currencyFormatter(parseInt(a.config.get("goodAmounts"),10))),a.result.set("mensualite",i.formatters.currencyFormatter(n.emi)),a.result.set("lastMensualite",i.formatters.currencyFormatter(n.lastEmi)),a.result.set("nbPremMens",n.nbPremMens),a.result.set("duration",n.duration),a.result.set("interestAmount",n.interestAmount),a.result.set("tarifDiff",n.tarifDiff),a.result.set("dfa",n.dfa),a.result.set("numberOfTerms",n.numberOfTerms),a.result.set("totalDueAmount",n.totalDueAmount),a.result.set("monthlyInsuranceAmount",n.monthlyInsuranceAmount),a.result.set("totalInsuranceAmount",n.totalInsuranceAmount),a.result.set("taea",n.taea),a.result.set("taeg",n.taeg),a.result.set("tnc",n.tnc),a.result.set("totalAmount",n.totalAmount)),a.displayLegalDetailsPP(a.legalMentionsList[t])):a.productCode===a.constants.PP_NAME&&(a.config.set("resultblockPP",!0),e=a.carousalListPP[t],e&&(a.result.set("amount",i.formatters.currencyFormatter(parseInt(a.config.get("goodAmounts"),10))),a.result.set("mensualite",i.formatters.currencyFormatter(e.emi)),a.result.set("duration",e.duration),a.result.set("interestAmount",e.interestAmount),a.result.set("tarifDiff",e.tarifDiff),a.result.set("dfa",e.dfa),a.result.set("numberOfTerms",e.numberOfTerms),a.result.set("totalDueAmount",e.totalDueAmount),a.result.set("monthlyInsuranceAmount",e.monthlyInsuranceAmount),a.result.set("totalInsuranceAmount",e.totalInsuranceAmount),a.result.set("taea",e.taea),a.result.set("taeg",e.taeg),a.result.set("tnc",e.tnc),a.result.set("totalAmount",e.totalAmount))),a.displayLegalDetailsPP(a.legalMentionsList[t])},displayLegalDetailsPP:function(t){var n,a=this;"REV"===a.productCode?(n={minAmount:i.formatters.currencyFormatterSub(a.wcmData[a.constants.MINAMOUNT]),maxAmount:i.formatters.currencyFormatterSub(a.wcmData[a.constants.MAXAMOUNT]),minTaux:i.formatters.currencyFormatterSub(a.wcmData[a.constants.MINTAEG]),maxTaux:i.formatters.currencyFormatterSub(a.wcmData[a.constants.MAXTAEG]),date:a.date.split("/")[0]+"/"+a.date.split("/")[1]+"/"+a.date.split("/")[2]},a.config.set("legalNoticeCRL",e.template(e.unescape(a.config.get("legal-notice-crl-simul")),n)),i.bind(a.$el.find(".simuResultDetails, .legalSection"),{view:a,result:a.result,config:a.config,labels:a.wcmLabels,error:a.simulationConfigModel}),a.config.get("isIALoaded")||(f.prototype.analyticsPublishSimulationLoad(a),a.config.set("isIALoaded",!0))):"CLA"===a.productCode&&(n={labelProjet:a.config.get(a.constants.PROJECTLABELPREFIX+a.materialCode)||"",montant:i.formatters.currencyFormatterSub(t.amount),duration:t.duration,taeg:i.formatters.currencyFormatterSub(t.maxTaeg),teg:i.formatters.currencyFormatterSub(t.maxTnc),amountTotal:i.formatters.currencyFormatterSub(t.totalDueAmount),emi:i.formatters.currencyFormatterSub(t.emi),costTotalWithInsurance:i.formatters.currencyFormatterSub(t.interestAmount),monthlyCostASM:i.formatters.currencyFormatterSub(t.monthlyInsuranceAmount),totalCostASM:i.formatters.currencyFormatterSub(t.totalInsuranceAmount),taea:i.formatters.currencyFormatterSub(t.taea),assuranceLabel:a.wcmData[a.constants.ASSURANCELABELDIM]},t.tarifDiff&&"P"!==t.prt?(void 0===a.config.get("legalNoticePPDiffHTML")&&a.config.set("legalNoticePPDiffHTML",e.unescape(a.config.get("legal-notice-pp-diff-simul"))),a.config.set("legalNoticeDetails",a.config.get("legalNoticePPDiffHTML")),a.config.set("legalNoticeDetailsHTML",e.template(a.config.get("legalNoticeDetails"),n))):(void 0===a.config.get("legalNoticePPNormalHTML")&&a.config.set("legalNoticePPNormalHTML",e.unescape(a.config.get("legal-notice-pp-normal-simul"))),a.config.set("legalNoticeDetails",a.config.get("legalNoticePPNormalHTML")),a.config.set("legalNoticeDetailsHTML",e.template(a.config.get("legalNoticeDetails"),n))),i.bind(a.$el.find(".simuResultDetails, .legalSection"),{view:a,result:a.result,config:a.config,labels:a.wcmLabels,error:a.simulationConfigModel}),a.result.get("tarifDiff")?(a.$el.find(".aPartir").removeClass("aPartirHide"),a.$el.find(".a-partir").css("visibility","visible")):(a.$el.find(".aPartir").addClass("aPartirHide"),a.$el.find(".a-partir").css("visibility","hidden")),o.isMobileDevice()||o.initializeHeightManager(),a.config.get("isIALoaded")||(f.prototype.analyticsPublishSimulationLoad(a),a.config.set("isIALoaded",!0)))},getModifierData:function(){var t,e=this;t="REV"===e.productCode?e.carousalList[e.config.get("selectedDuration")]:e.carousalListPP[e.config.get("selectedDuration")],e.modifierJson={URL_duration:parseInt(e.wcmData[e.constants.DURATION],10),URL_goodAmount:parseInt(e.wcmData[e.constants.GOODAMOUNT],10),URL_materialCode:e.materialCode,URL_monthlyInstalment:parseInt(e.wcmData[e.constants.EMI],10),URL_numberDuVendeur:e.wcmData[e.constants.SELLERCODE],URL_productCode:e.productCode,maxDuration:e.wcmData[e.constants.MAXDURATION],minDuration:e.wcmData[e.constants.MINDURATION],minEmi:e.wcmData[e.constants.MINEMI],origin:e.wcmData[e.constants.ORIGIN],originIA:e.wcmData[e.constants.ORIGIN]===e.constants.ORIGINS00?e.constants.S00MODULENAME:e.constants.S04MODULENAME},"REV"===e.productCode&&(e.modifierJson[e.constants.CHOICE]=e.wcmData[e.constants.CHOICE])},loadTechnicalUrl:function(t,n){var a=this,i=document.createElement("div");i.innerHTML=o.readFile(a.wcmData[n]),e.each(t,function(t){a.config.set(t,r(i).find("#"+t).html())})},amountFormat:function(t){var e=0;return t&&(t.length>6?(e=t.replace(" ",""),e=Number(e.replace(",","."))):e=Number(t.replace(",","."))),e}})}),bnpp.define("json",["text"],function(text){function cacheBust(t){return t=t.replace(CACHE_BUST_FLAG,""),t+=t.indexOf("?")<0?"?":"&",t+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(t,e,n,a){a.isBuild&&(a.inlineJSON===!1||-1!==t.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===e.toUrl(t).indexOf("empty:")?n(null):text.get(e.toUrl(t),function(e){var i;if(a.isBuild)buildMap[t]=e,n(e);else{try{i=jsonParse(e)}catch(r){n.error(r)}n(i)}},n.error,{accept:"application/json"})},normalize:function(t,e){return-1!==t.indexOf(CACHE_BUST_FLAG)&&(t=cacheBust(t)),e(t)},write:function(t,e,n){if(e in buildMap){var a=buildMap[e];n('define("'+t+"!"+e+'", function(){ return '+a+";});\n")}}}}),bnpp.define("json!simulationResultBlock/config/simulationResultBlockConstant.json",function(){return{simulationResultBlock:{MULTILAN:"rpc/config/get",DFRAPath:"rpc/jndi/getJndi",VENDORSERVICEPath:"rpc/simulation/simulationservice",AUTHURL:"rpc/authentication/auth",PARAMVENDORPATH:"app/simulationGeneric/config/paramVendor.json",DATEURL:"rpc/B2B2CP/date",MULTILANURL:"rpc/config/get",MATERIALCODE:"URL_materialCode",SIMULATIONUPDATE:"simulation_update",MODULENAME:"simulationResultBlock",PRODUCTCODE:"URL_productCode",SELLERCODE:"URL_numberDuVendeur",GOODAMOUNT:"URL_goodAmount",EMI:"URL_monthlyInstalment",NEWPROJECT:"URL_newProject",DURATION:"URL_duration",ANALYTICSONLOADTOPIC:"ia.sf.loaded",PP_NAME:"CLA",CRL_NAME:"REV",PAGELOADED:"pageLoaded",CAROUSALLENGTH:"CarousalLength",GOODSCODEINITIAL:"goodsCodeInitial",REROUTAGE:"URL_reroutage",GENERIQUE:"Generique",CLASSIC:"CLASSIC_CREDIT_FILE",MINAMOUNT:"minAmount",MAXAMOUNT:"maxAmount",MINTAEG:"minTaeg",MAXTAEG:"maxTaeg",CONSTANTTWELVE:12,MAXDURATION:"maxDuration",MINDURATION:"minDuration",MAXEMI:"maxEmi",MINEMI:"minEmi",LABELCLA:"action Link Demander ce pret",REDIRECTCODE:"REDIRECT",RELOADCODE:"RELOAD",FORMREDIRECT:"subscription_redirect",MTAMOUNTEXCLA:"MT_amount_ex_CLA",MTDUREEEXCLA:"MT_duree_ex_CLA",PROJECTSELECTORURL:"projectSelectorUrl",HTML:".html",PROJECTTITLECONTENT:"ProjectTitleContent",ASSURANCELABELDIM:"AssuranceLabelDIM",CREDITDETAILSHDLR:"creditDetailsHdlr",CREDITDETAILS:"creditdetails",CREDITSTEPSCRL:"creditStepsCRL",CETELEMOFFERS:"cetelemOffers",LEGALNOTICEPPDIFF:"legalNoticePPDiff",LEGALSPPNORMAL:"legalsPPNormal",LEGALSTANDARD:"mentionslegalesPPStandard",CLA:"CL",REV:"REV",MONTHLYEMI:"emi",DURATIONVALUE:"duration",URLMATERIALCODE:"materialCode",URLPRODUCTCODE:"productCode",URLSELLERCODE:"sellerCode",MONTHLYINSTALMENT:"monthlyInstalment",LABELREV:"action Link reload",AMOUNT:"amount",CONSTANTZERO:0,CONSTANTTWELVE:12,EVENT:"interaction_simulateur",TOPIC_WEBANALYTICS_ONSLIDE:"ia.sf.webanalytics",REDIRECT:"REDIRECT",LABEL:"action Link Simuler",RACREDIRECT:"subscription_rac_redirect",REVREDIRECT:"subscription_rev_redirect",CLAREDIRECT:"subscription_cla_redirect",IMMOREDIRECT:"subscription_immo_redirect",CARDMODIFIER:"result_simulation_card_modifier",GTXMATERIALCODE:"919gtx",SIMULATIONUPDATE:"simulation_update",SIMULATIONREDIRECT:"simulation_redirect",JSONTOPICEMPTY:"Topic Json is undefined",ANALYTICSONLOADTOPIC:"ia.sf.loaded",WEBANALYTICSTOPIC:"ia.sf.webanalytics",IMPRESSION:"impression",PAGELOADED:"pageLoaded",ANALYTCSPAGEPP:"PP : Simulation : Resultat simulation",DURATIONRANGE:"durationRange",ENTREEPARCOURS:"entreeParcours",BANKCARDTYPE:"bankCardType",CHOICE:"choice",PARDUREE:"parDuree",LEGALEXAMPLEPP:"legalExamplePP",MONTHLYCOSTHIGH64COEFF:"monthlyCostHigh64Coeff",LEGALEXAMPLECRL:"legalExampleCRL",DTSCHOICE:"DTSChoice",MODAL_ZINDEX:"modal_zindex",CODEGOODS:"codeGoods",COMPANY:"company",LEGALNOTICECRL:"legalNoticeCRL",CLAUPDATE:"subscription_cla_update",REVUPDATE:"subscription_rev_update",DEFAULTREV:"default_REV",ORIGINS00:"S00",ORIGINS04:"S04",ORIGIN:"origin",REVUPDATE:"subscription_rev_update",S00MODULENAME:"simulationGeneric",S04MODULENAME:"simulationBoxCR",MONAPPORT:"monApport",LABELEURO:"€",MONTHS:"LIBF01-006_010",CONSTANTONE:1,AMOUNTSLIDERID:"cmon-amount-slider",DURATIONSLIDERID:"cmon-duration-slider",EMISLIDERID:"cmon-EMI-slider",EMITEXTID:"emi-amount-value",CONSTANTTEN:10,CONSTANTTWO:2,DURATIONTEXTID:"duration-value",URLMAXPPAMOUNT:"URL_maxPPAmount",URLREROUTINGAMOUNT:"URL_reroutingAmount",CODEORIGINE:"code_origine",MTAMOUNTEXCR:"MT_amount_ex_CR",MTDUREEEXCR:"MT_duration_ex_CR",CREDITDETAILSCRL:"creditDetailsCRL",SELECTCARD:"selectCard",SIMULATIONCHANGE:"simulation_updated",DOWNLOAD:"download",MAIL:"email",AMOUNTINC:"tableau modification augmentation",AMOUNTDEC:"tableau modification diminution",PPREDIRECTION:"PP : Simulation : Resultat simulation",CRLREDIRECTION:"CRL : Simulation : Resultat simulation",RESULTSIMTOOLTIP:"resultSimTooltip",TOOLTIPLABLES:["tooltip-aPartirDe-ncr","tooltip-taegFixe-ncr","tooltip-taegDebiteurFixe-ncr","tooltip-interests-ncr","tooltip-montantTotalDu-ncr","tooltip-mensualite-ncr","tooltip-aPartirDe-pp","tooltip-taegFixe-pp","tooltip-taegDebiteurFixe-pp","tooltip-interests-pp","tooltip-montantTotalDu-pp","tooltip-mensualite-pp","cetelem-offers-simul","legal-notice-pp-diff-simul","legal-notice-pp-normal-simul","mention-legal-pp-std-simul","legal-example-pp-simul","legal-notice-crl-simul","legal-example-crl-simul","credit-details-simul","credit-details-simul-ncr","credit-steps-crl-simul","credit-steps-pp-simul","description-legal-crl"],PARMENSUALITE:"parMensualite",MENSUDURATIONRANGE:"mensuDurationRange",CARDCHOICEERROR:"Merci de choisir l'un des deux choix ci-dessus",TYPERESULTATSIMUCRL:"resultatSimu_CR_v2",TYPERESULTATSIMUPP:"resultatSimu_PP_v2",CRLMENSUALITE:"Credit renouvelable - montant",CRLDUREE:"Credit renouvelable - duree",MODULEINTERACTION:"module_interaction",CARDCHOICEPAGENAME:"CRL : Formulaire : choix carte",CPAYPAGENAME:"CRL : Formulaire : choix carte : Avantage Cpay",MASTERPAGENAME:"CRL : Formulaire : choix carte : Avantage Mastercard",CARDPAGEGOODSCODE:"cr",CARDPAGECREDITTYPE:"CR",CRLCARDPAGE:"newCRCardPage",PRODUCTLABEL:"productLabel",DISABLECARDPAGE:"disableCardPage",PROJECTLABELPREFIX:"mc-",CRLCARDLABLES:["newcr-card-selection","newcr-cpaycard-details","newcr-mastercard-details"]}}}),bnpp.define("simulationResultBlock/main",["require","jquery","./view/simulationResultBlock","sf","../../app/simulationCommons/simulationValidate","json!./config/simulationResultBlockConstant.json"],function(t){var e=t("jquery"),n=t("./view/simulationResultBlock"),a=t("sf"),i=t("../../app/simulationCommons/simulationValidate"),r=t("json!./config/simulationResultBlockConstant.json");return function(t,o,s){var l,m=a.getApplicationContext(t);if(i.hostUrl=m,i.assignTopics(s,r.simulationResultBlock),a.messaging.queryTopic(s[r.simulationResultBlock.CLAUPDATE])[0]?l=a.messaging.queryTopic(s[r.simulationResultBlock.CLAUPDATE])[0].Json:a.messaging.queryTopic(s[r.simulationResultBlock.REVUPDATE])[0]&&(l=a.messaging.queryTopic(s[r.simulationResultBlock.REVUPDATE])[0].Json),l){for(var u in l)u&&(o[u]=l[u]);var c=e.extend({},o);new n({el:e(t),json:o,dummyJsonData:c,topic:s,hostUrl:m,value:r.simulationResultBlock})}}}),bnpp.define("simulationResultBlock",["simulationResultBlock/main"],function(t){return t});